var __classPrivateFieldSet=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},__classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class AssertionError extends Error{constructor(e){var t;super(null!==(t="Assertion failed"+(e?": ":"")+e)&&void 0!==t?t:"")}}function assert(e,t=""){if(!e)throw new AssertionError(t)}const throws=e=>{throw e};function addLoadListener(e){"complete"===document.readyState?e():window.addEventListener("load",e)}const toast=function(){const e=document.createElement("div");"complete"===document.readyState?document.body.appendChild(e):window.addEventListener("load",(()=>document.body.appendChild(e)));const t=e.attachShadow({mode:"closed"});t.appendChild(Object.assign(document.createElement("style"),{textContent:"\n            :host {\n                position: fixed;\n                top: 0;\n                left: 0;\n                height: 100%;\n                width: 100%;\n                display: flex;\n                justify-content: center;\n                font-family: Arial;\n                pointer-events: none;\n            }\n            :host>span {\n                transition: opacity 0.15s linear;\n                align-self: flex-end;\n                margin-bottom: 2em;\n                border-radius: 3ch;\n                z-index: 99999;\n                color: #444;\n                background-color: rgb(245 245 245 / 85%);\n                box-shadow:0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12);\n                padding: 1.5ch 2ch;\n                pointer-events: none;\n                user-select: none;\n                opacity: 0;\n            }\n            :host>span>span {\n                --max-lines: 4;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                display: -webkit-box;\n                -webkit-line-clamp: var(--max-lines);\n                -webkit-box-orient: vertical;\n                max-width: 20ch;\n            }\n        "}));const n=document.createElement("span"),r=document.createElement("span");n.appendChild(r),t.appendChild(n);const o={short:1e3,medium:2e3,long:5e3},i=[];let a=-1;return function(e,t="short"){return new Promise((function(s){window.requestAnimationFrame((async function(){await Promise.all(i),clearTimeout(a),i.push(new Promise((function(c){r.textContent=e,n.style.opacity="1.0",setTimeout((function(){n.style.opacity="0.0",a=setTimeout((function(){r.textContent="",s()}),250),i.shift(),c()}),o[t]+250)})))}))}))}}(),chime=function(){function e(e){return new Promise((t=>setTimeout(t,e)))}const t=new AudioContext,n=Array.apply(null,{length:9}).map((e=>({})));return n[0].A=27.5,n[0]["A#"]=29.13523509488062,n[0].B=30.867706328507754,n[1].C=32.70319566257483,n[1]["C#"]=34.64782887210901,n[1].D=36.70809598967595,n[1]["D#"]=38.890872965260115,n[1].E=41.20344461410874,n[1].F=43.653528929125486,n[1]["F#"]=46.2493028389543,n[1].G=48.99942949771866,n[1]["G#"]=51.91308719749314,n[1].A=55,n[1]["A#"]=58.27047018976124,n[1].B=61.735412657015516,n[2].C=65.40639132514966,n[2]["C#"]=69.29565774421802,n[2].D=73.4161919793519,n[2]["D#"]=77.78174593052023,n[2].E=82.40688922821748,n[2].F=87.30705785825097,n[2]["F#"]=92.4986056779086,n[2].G=97.99885899543732,n[2]["G#"]=103.82617439498628,n[2].A=110,n[2]["A#"]=116.54094037952248,n[2].B=123.47082531403103,n[3].C=130.8127826502993,n[3]["C#"]=138.59131548843604,n[3].D=146.8323839587038,n[3]["D#"]=155.56349186104046,n[3].E=164.81377845643496,n[3].F=174.61411571650194,n[3]["F#"]=184.9972113558172,n[3].G=195.99771799087463,n[3]["G#"]=207.65234878997256,n[3].A=220,n[3]["A#"]=233.08188075904496,n[3].B=246.94165062806206,n[4].C=261.6255653005986,n[4]["C#"]=277.1826309768721,n[4].D=293.6647679174076,n[4]["D#"]=311.1269837220809,n[4].E=329.6275569128699,n[4].F=349.2282314330039,n[4]["F#"]=369.9944227116344,n[4].G=391.99543598174927,n[4]["G#"]=415.3046975799451,n[4].A=440,n[4]["A#"]=466.1637615180899,n[4].B=493.8833012561241,n[5].C=523.2511306011972,n[5]["C#"]=554.3652619537442,n[5].D=587.3295358348151,n[5]["D#"]=622.2539674441618,n[5].E=659.2551138257398,n[5].F=698.4564628660078,n[5]["F#"]=739.9888454232688,n[5].G=783.9908719634985,n[5]["G#"]=830.6093951598903,n[5].A=880,n[5]["A#"]=932.3275230361799,n[5].B=987.7666025122483,n[6].C=1046.5022612023945,n[6]["C#"]=1108.7305239074883,n[6].D=1174.6590716696303,n[6]["D#"]=1244.5079348883237,n[6].E=1318.5102276514797,n[6].F=1396.9129257320155,n[6]["F#"]=1479.9776908465376,n[6].G=1567.981743926997,n[6]["G#"]=1661.2187903197805,n[6].A=1760,n[6]["A#"]=1864.6550460723597,n[6].B=1975.5332050244965,n[7].C=2093.004522404789,n[7]["C#"]=2217.4610478149766,n[7].D=2349.3181433392606,n[7]["D#"]=2489.0158697766474,n[7].E=2637.0204553029594,n[7].F=2793.825851464031,n[7]["F#"]=2959.955381693075,n[7].G=3135.963487853994,n[7]["G#"]=3322.437580639561,n[7].A=3520,n[7]["A#"]=3729.3100921447194,n[7].B=3951.066410048993,n[8].C=4186.009044809578,async function(r="440 880 1200",{fadeOutTime:o=.5,defaultNoteTime:i=.2}={}){const a=r.split(/[,\s]+/g).map((function(e){var t;const[r,o]=e.split(":");let a=parseFloat(r);if(Number.isNaN(a)){const[e,o]=r.split(/(?=\d)/);a=null!==(t=n[+(null!=o?o:4)][e.toUpperCase()])&&void 0!==t?t:0}return[a,+(null!=o?o:i)]})),s=t.createGain();s.connect(t.destination);const c=t.createOscillator();c.connect(s),c.type="sine",c.start(),c.frequency.setValueAtTime(0,t.currentTime),s.gain.setValueAtTime(.001,t.currentTime),s.gain.exponentialRampToValueAtTime(.5,t.currentTime+.02);for(const[n,r]of a)c.frequency.setValueAtTime(+n,t.currentTime),await e(Math.max(1e3*r-10,0));s.gain.setTargetAtTime(.001,t.currentTime+o-.05-.04,.02),c.stop(t.currentTime+o),await e(1e3*o)}}();class Keybinds{constructor(e=window){this.target=e,this.levels=Array.apply(null,{length:5}).map((e=>new Map)),this.keys=new Map,this.onKeydownEvent=function(e){var t;if(this.keys.set(e.key.replace(/^ $/,"Space").toLowerCase(),!0),Keybinds.COMMAND_KEYS.includes(e.key.toLowerCase()))return;const n=+e.ctrlKey+ +e.shiftKey+ +e.altKey+ +e.metaKey,r=null===(t=[...this.levels[n].entries()].find((function([t]){return(!t.ctrlKey||e.ctrlKey)&&(!t.shiftKey||e.shiftKey)&&(!t.altKey||e.altKey)&&(!t.metaKey||e.metaKey)&&t.char===e.key.replace(/^ $/,"Space").toLowerCase()})))||void 0===t?void 0:t[1];r&&(e.preventDefault(),r())}.bind(this),this.onKeyupEvent=function(e){this.keys.set(e.key.replace(/^ $/,"Space").toLowerCase(),!1)}.bind(this),this.onBlurEvent=function(e){this.keys.clear()}.bind(this),e.addEventListener("keydown",this.onKeydownEvent),e.addEventListener("keyup",this.onKeyupEvent),e.addEventListener("blur",this.onBlurEvent)}static on(e,t){return Keybinds.DEFAULT_INSTANCE.on(e,t)}on(e,t){var n;const r=e.split(/\s+[+,]?\s?/).map((e=>e.toLowerCase().replaceAll(/^ctrl$/g,Keybinds.CommandKeys.Control)));this.levels[Math.min(r.length-1,4)].set({ctrlKey:r.includes(Keybinds.CommandKeys.Control),shiftKey:r.includes(Keybinds.CommandKeys.Shift),altKey:r.includes(Keybinds.CommandKeys.Alt),metaKey:r.includes(Keybinds.CommandKeys.Meta)||r.includes(Keybinds.CommandKeys.Windows),char:null!==(n=r.find((e=>!Keybinds.COMMAND_KEYS_ARRAY.includes(e))))&&void 0!==n?n:(()=>{throw new Error(`Keybind '${e}' must contain a none command key`)})()},t)}static isKeyDown(e){return Keybinds.DEFAULT_INSTANCE.isKeyDown(e)}isKeyDown(e){return!!this.keys.get(e.toLowerCase())}detach(){this.target.removeEventListener("keydown",this.onKeydownEvent),this.target.removeEventListener("keyup",this.onKeyupEvent),this.target.removeEventListener("blur",this.onBlurEvent)}}Keybinds.CommandKeys=function(){let e;return function(e){e.Control="control",e.Shift="shift",e.Alt="alt",e.Meta="meta",e.Windows="windows"}(e||(e={})),e}(),Keybinds.DEFAULT_INSTANCE=new Keybinds,Keybinds.COMMAND_KEYS_ARRAY=Object.values(Keybinds.CommandKeys).filter((e=>"string"==typeof e)),Keybinds.COMMAND_KEYS=Keybinds.COMMAND_KEYS_ARRAY.filter((e=>e!=Keybinds.CommandKeys.Windows));class Random{static splitSeed(e,t=1,n=32){const r=[],o=BigInt(n);for(let i=0;i<t;i++)r.push(Number(BigInt.asIntN(n,e))),e>>=o;return r}constructor({seed:e=BigInt(+new Date),type:t="xoroshiro128plus_32"}={}){this.random=Random.IMPLEMENTATIONS[t](e)}}var Base64,LZCompression,LZWCompression,GZipCompression,AESGCMEncryption,ConfigString,CSV,JSION,SHML,DomLib,JSX,ElementFactory,Elements,HTMLRasterizer;Random.IMPLEMENTATIONS={fast(e){let[t]=Random.splitSeed(e,1,53);return function(){const e=1e4*Math.sin(t++);return e-Math.floor(e)}},mwc(e){let[t,n]=Random.splitSeed(e,2,16);return function(){return t=36969*(65535&t)+(t>>>16),n=18e3*(65535&n)+(n>>>16),((t<<16)+(65535&n)>>>0)/4294967296}},xorshift32(e){let[t]=Random.splitSeed(e);return function(){return t^=t<<13,t^=t>>>17,t^=t<<5,(t>>>0)/4294967296}},xorshift128(e){let[t,n,r,o]=Random.splitSeed(e,4);return function(){var e=t^t<<11;return t=n,n=r,r=o,o=o^o>>>19^e^e>>>8,(o>>>0)/4294967296}},xorwow(e){let[t,n,r,o,i,a]=Random.splitSeed(e,6);return function(){var e=t^t>>>2;return t=n,n=r,r=o,o=i,i=i^i<<4^e^e<<1,a=a+362437>>>0,(i+a>>>0)/4294967296}},xorshift32m(e){let[t]=Random.splitSeed(e);return function(){return t^=t<<13,t^=t>>>17,t^=t<<5,(Math.imul(t,1597334677)>>>0)/4294967296}},xorshift32amx(e){let[t]=Random.splitSeed(e);return function(){var e=Math.imul(t,1597334677);return t^=t<<13,t^=t>>>17,t^=t<<5,(t+(e=e>>>24|e>>>8&65280|e<<8&16711680|e<<24)>>>0)/4294967296}},xoroshiro64ss(e){let[t,n]=Random.splitSeed(e,2);return function(){var e=Math.imul(t,2654435771);return n^=t,t=n^(t<<26|t>>>6)^n<<9,n=n<<13|n>>>19,((e=5*(e<<5|e>>>27))>>>0)/4294967296}},xoroshiro64s(e){let[t,n]=Random.splitSeed(e,2);return function(){var e=Math.imul(t,2654435771);return n^=t,t=n^(t<<26|t>>>6)^n<<9,n=n<<13|n>>>19,(e>>>0)/4294967296}},xoroshiro64p(e){let[t,n]=Random.splitSeed(e,2);return function(){var e=t+n;return n^=t,t=n^(t<<26|t>>>6)^n<<9,n=n<<13|n>>>19,(e>>>0)/4294967296}},xoroshiro128plus_32(e){let[t,n,r,o]=Random.splitSeed(e,4);const i=function(){var e,i=t>>>0,a=n>>>0,s=r>>>0,c=o>>>0;return e=c+a+(0!==s&&i>=-s>>>0?1:0),t=(a<<23|i>>>9)^(s^=i)^s<<14,n=(i<<23|a>>>9)^(c^=a)^(c<<14|s>>>18),r=c<<4|s>>>28,o=s<<4|c>>>28,(e>>>0)/4294967296};for(var a=0;a<10;a++)i();return i},xorshift128plus_32b(e){let[t,n,r,o]=Random.splitSeed(e,4);const i=function(){var e,i=t>>>0,a=n>>>0,s=r>>>0,c=o>>>0;return e=c+a+(0!==i&&s>=-i>>>0?1:0),a^=a<<23|i>>>9,t=s,n=c,r=(i^=i<<23)^s^(i>>>18|a<<14)^(s>>>5|c<<27),o=a^c^a>>>18^c>>>5,(e>>>0)/4294967296};for(var a=0;a<20;a++)i();return i},xoshiro128ss(e){let[t,n,r,o]=Random.splitSeed(e,4);return function(){var e=n<<9,i=5*t;return r^=t,o^=n,n^=r,t^=o,r^=e,o=o<<11|o>>>21,((i=9*(i<<7|i>>>25))>>>0)/4294967296}},xoshiro128pp(e){let[t,n,r,o]=Random.splitSeed(e,4);return function(){var e=n<<9,i=t+o;return i=(i<<7|i>>>25)+t,r^=t,o^=n,n^=r,t^=o,r^=e,o=o<<11|o>>>21,(i>>>0)/4294967296}},xoshiro128p(e){let[t,n,r,o]=Random.splitSeed(e,4);return function(){var e=n<<9,i=t+o;return r^=t,o^=n,n^=r,t^=o,r^=e,o=o<<11|o>>>21,(i>>>0)/4294967296}},jsf32(e){let[t,n,r,o]=Random.splitSeed(e,4);const i=function(){t|=0,n|=0,r|=0,o|=0;var e=t-(n<<27|n>>>5)|0;return t=n^(r<<17|r>>>15),n=r+o|0,r=o+e|0,o=t+e|0,(o>>>0)/4294967296};for(var a=0;a<20;a++)i();return i},jsf32b(e){let[t,n,r,o]=Random.splitSeed(e,4);const i=function(){t|=0,n|=0,r|=0,o|=0;var e=t-(n<<23|n>>>9)|0;return t=n^(r<<16|r>>>16)|0,n=r+(o<<11|o>>>21)|0,n=r+o|0,r=o+e|0,o=t+e|0,(o>>>0)/4294967296};for(var a=0;a<20;a++)i();return i},gjrand32(e){let[t,n,r,o]=Random.splitSeed(e,4);const i=function(){return t|=0,n|=0,r|=0,o|=0,t=t<<16|t>>>16,n=n+r|0,t=t+n|0,r^=n,r=r<<11|r>>>21,n^=t,t=t+r|0,n=r<<19|r>>>13,r=r+t|0,o=o+38565|0,n=n+o|0,(t>>>0)/4294967296};for(var a=0;a<14;a++)i();return i},sfc32(e){let[t,n,r,o]=Random.splitSeed(e,4);const i=function(){t|=0,n|=0,r|=0,o|=0;var e=(t+n|0)+o|0;return o=o+1|0,t=n^n>>>9,n=r+(r<<3)|0,r=r<<21|r>>>11,r=r+e|0,(e>>>0)/4294967296};for(var a=0;a<15;a++)i();return i},tychei(e){let[t,n,r,o]=Random.splitSeed(e,4);return function(){return t|=0,n|=0,r|=0,o|=0,n=(n<<25|n>>>7)^r,r=r-o|0,o=(o<<24|o>>>8)^t,t=t-n|0,n=(n<<20|n>>>12)^r,r=r-o|0,o=(o<<16|o>>>16)^t,t=t-n|0,(t>>>0)/4294967296}},tyche(e){let[t,n,r,o]=Random.splitSeed(e,4);return function(){return t|=0,n|=0,r|=0,o|=0,t=t+n|0,o^=t,o=o<<16|o>>>16,r=r+o|0,n^=r,n=n<<12|n>>>20,t=t+n|0,o^=t,o=o<<8|o>>>24,r=r+o|0,n^=r,n=n<<7|n>>>25,(n>>>0)/4294967296}},mulberry32(e){let[t]=Random.splitSeed(e);return function(){t|=0,t=t+1831565813|0;var e=Math.imul(t^t>>>15,1|t);return(((e=e+Math.imul(e^e>>>7,61|e)^e)^e>>>14)>>>0)/4294967296}},splitmix32(e){let[t]=Random.splitSeed(e);return function(){t|=0,t=t+2654435769|0;var e=t^t>>>15;return e=Math.imul(e,2246822507),e^=e>>>13,e=Math.imul(e,3266489909),((e^=e>>>16)>>>0)/4294967296}},v3b(e){let[t,n,r,o]=Random.splitSeed(e,4);var i,a=0,s=0,c=n,l=r,u=o;const p=function(){switch(0===a&&(t+=o,t=t<<21|t>>>11,n=(n<<12|n>>>20)+r,r^=t,o^=n,t+=o,t=t<<19|t>>>13,n=(n<<24|n>>>8)+r,r^=t,o^=n,t+=o,t=t<<7|t>>>25,n=(n<<12|n>>>20)+r,r^=t,o^=n,t+=o,t=t<<27|t>>>5,n=(n<<17|n>>>15)+r,r^=t,o^=n,t+=s,n+=c,r+=l,o+=u,s++,a=4),--a){case 0:i=t;break;case 1:i=n;break;case 2:i=r;break;case 3:i=o}return(i>>>0)/4294967296};for(var d=0;d<16;d++)p();return p}},function(e){function t(e,t){const n=e.replace(/[^A-Za-z0-9+/]/g,""),r=n.length,o=t?Math.ceil((3*r+1>>2)/t)*t:3*r+1>>2,i=new Uint8Array(o);let a,s,c=0,l=0;for(let e=0;e<r;e++)if(s=3&e,c|=((u=n.charCodeAt(e))>64&&u<91?u-65:u>96&&u<123?u-71:u>47&&u<58?u+4:43===u?62:47===u?63:0)<<6*(3-s),3===s||r-e==1){for(a=0;a<3&&l<o;)i[l]=c>>>(16>>>a&24)&255,a++,l++;c=0}var u;return i}function n(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65}function r(e){let t=2,r="";const o=e.length;let i=0;for(let a=0;a<o;a++)t=a%3,a>0&&4*a/3%76==0&&(r+="\r\n"),i|=e[a]<<(16>>>t&24),2!==t&&e.length-a!=1||(r+=String.fromCodePoint(n(i>>>18&63),n(i>>>12&63),n(i>>>6&63),n(63&i)),i=0);return r.substr(0,r.length-2+t)+(2===t?"":1===t?"=":"==")}e.decodeBase64ToArray=t,e.encode=function(e){return r((new TextEncoder).encode(e))},e.decode=function(e){return(new TextDecoder).decode(t(e))},e.encodeBase64FromArray=r}(Base64||(Base64={})),function(e){const t=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function i(e,t){if(!o[e]){o[e]={};for(let t=0;t<e.length;t++)o[e][e.charAt(t)]=t}return o[e][t]}function a(e){return s(e,16,(function(e){return t(e)}))}function s(e,t,n){if(null==e)return"";let r,o,i={},a={},s="",c="",l="",u=2,p=3,d=2,f=[],h=0,g=0;for(let m=0;m<e.length;m+=1)if(s=e.charAt(m),Object.prototype.hasOwnProperty.call(i,s)||(i[s]=p++,a[s]=!0),c=l+s,Object.prototype.hasOwnProperty.call(i,c))l=c;else{if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(r=0;r<d;r++)h<<=1,g==t-1?(g=0,f.push(n(h)),h=0):g++;for(o=l.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,g==t-1?(g=0,f.push(n(h)),h=0):g++,o>>=1}else{for(o=1,r=0;r<d;r++)h=h<<1|o,g==t-1?(g=0,f.push(n(h)),h=0):g++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,g==t-1?(g=0,f.push(n(h)),h=0):g++,o>>=1}u--,0==u&&(u=Math.pow(2,d),d++),delete a[l]}else for(o=i[l],r=0;r<d;r++)h=h<<1|1&o,g==t-1?(g=0,f.push(n(h)),h=0):g++,o>>=1;u--,0==u&&(u=Math.pow(2,d),d++),i[c]=p++,l=String(s)}if(""!==l){if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(r=0;r<d;r++)h<<=1,g==t-1?(g=0,f.push(n(h)),h=0):g++;for(o=l.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,g==t-1?(g=0,f.push(n(h)),h=0):g++,o>>=1}else{for(o=1,r=0;r<d;r++)h=h<<1|o,g==t-1?(g=0,f.push(n(h)),h=0):g++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,g==t-1?(g=0,f.push(n(h)),h=0):g++,o>>=1}u--,0==u&&(u=Math.pow(2,d),d++),delete a[l]}else for(o=i[l],r=0;r<d;r++)h=h<<1|1&o,g==t-1?(g=0,f.push(n(h)),h=0):g++,o>>=1;u--,0==u&&(u=Math.pow(2,d),d++)}for(o=2,r=0;r<d;r++)h=h<<1|1&o,g==t-1?(g=0,f.push(n(h)),h=0):g++,o>>=1;for(;;){if(h<<=1,g==t-1){f.push(n(h));break}g++}return f.join("")}function c(e){return null==e?"":""==e?null:l(e.length,32768,(function(t){return e.charCodeAt(t)}))}function l(e,n,r){let o,i,a,s,c,l,u,p,d=[],f=4,h=4,g=3,m="",v=[],w={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)d[i]=i;for(s=0,l=Math.pow(2,2),u=1;u!=l;)c=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),s|=(c>0?1:0)*u,u<<=1;switch(o=s){case 0:for(s=0,l=Math.pow(2,8),u=1;u!=l;)c=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),s|=(c>0?1:0)*u,u<<=1;p=t(s);break;case 1:for(s=0,l=Math.pow(2,16),u=1;u!=l;)c=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),s|=(c>0?1:0)*u,u<<=1;p=t(s);break;case 2:return""}for(d[3]=p,a=p,v.push(p);;){if(w.index>e)return"";for(s=0,l=Math.pow(2,g),u=1;u!=l;)c=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),s|=(c>0?1:0)*u,u<<=1;switch(p=s){case 0:for(s=0,l=Math.pow(2,8),u=1;u!=l;)c=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),s|=(c>0?1:0)*u,u<<=1;d[h++]=t(s),p=h-1,f--;break;case 1:for(s=0,l=Math.pow(2,16),u=1;u!=l;)c=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),s|=(c>0?1:0)*u,u<<=1;d[h++]=t(s),p=h-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,g),g++),d[p])m=d[p];else{if(p!==h)return null;m=a+a.charAt(0)}v.push(m),d[h++]=a+m.charAt(0),f--,a=m,0==f&&(f=Math.pow(2,g),g++)}}e.compressToBase64=function(e){if(null==e)return"";const t=s(e,6,(function(e){return n.charAt(e)}));switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},e.decompressFromBase64=function(e){return null==e?"":""==e?null:l(e.length,32,(function(t){return i(n,e.charAt(t))}))},e.compressToUTF16=function(e){return null==e?"":s(e,15,(function(e){return t(e+32)}))+" "},e.decompressFromUTF16=function(e){return null==e?"":""==e?null:l(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},e.compressToUint8Array=function(e){const t=a(e),n=new Uint8Array(2*t.length);for(let e=0,r=t.length;e<r;e++){const r=t.charCodeAt(e);n[2*e]=r>>>8,n[2*e+1]=r%256}return n},e.decompressFromUint8Array=function(e){if(null==e)return c(e);{const n=new Array(e.length/2);for(let t=0,r=n.length;t<r;t++)n[t]=256*e[2*t]+e[2*t+1];const r=[];return n.forEach((function(e){r.push(t(e))})),c(r.join(""))}},e.compressToEncodedURIComponent=function(e){return null==e?"":s(e,6,(function(e){return r.charAt(e)}))},e.decompressFromEncodedURIComponent=function(e){return null==e?"":""==e?null:l((e=e.replace(/ /g,"+")).length,32,(function(t){return i(r,e.charAt(t))}))},e.compress=a,e.decompress=c,e.zip=a,e.unzip=c}(LZCompression||(LZCompression={})),function(e){function t(e){try{const n={},r=(e+"").split(""),o=[];let i,a=r[0],s=256;for(let e=1;e<r.length;e++)i=r[e],null!=n[a+i]?a+=i:(o.push(a.length>1?n[a]:a.charCodeAt(0)),n[a+i]=s,s++,a=i);o.push(a.length>1?n[a]:a.charCodeAt(0));for(var t=0;t<o.length;t++)o[t]=String.fromCharCode(o[t]);return function(e){return btoa(unescape(encodeURIComponent(e)))}(o.join(""))}catch(e){throw"Failed to zip string"}}function n(e){try{const t=decodeURIComponent(escape(atob(e))),n={},r=(t+"").split("");let o=r[0],i=o;const a=[o];let s,c=256;for(let e=1;e<r.length;e++){let t=r[e].charCodeAt(0);s=t<256?r[e]:n[t]?n[t]:i+o,a.push(s),o=s.charAt(0),n[c]=i+o,c++,i=s}return a.join("")}catch(e){throw"Failed to unzip string"}}e.compress=t,e.decompress=n,e.zip=t,e.unzip=n}(LZWCompression||(LZWCompression={})),function(e){async function t(t){return Base64.encodeBase64FromArray(new Uint8Array(await(await e.compressBlob(new Blob([t]))).arrayBuffer()))}async function n(t){return(await e.decompressBlob(new Blob([Base64.decodeBase64ToArray(t)]))).text()}e.decompressBlob=async function(e){const t=new DecompressionStream("gzip"),n=e.stream().pipeThrough(t);return new Blob([await new Response(n).blob()])},e.compressBlob=async function(e){const t=new CompressionStream("gzip"),n=e.stream().pipeThrough(t);return new Blob([await new Response(n).blob()],{type:"application/gzip"})},e.compress=t,e.decompress=n,e.zip=t,e.unzip=n}(GZipCompression||(GZipCompression={})),function(e){e.encrypt=async function(e,t){const n=(new TextEncoder).encode(t),r=await crypto.subtle.digest("SHA-256",n),o=crypto.getRandomValues(new Uint8Array(12)),i={name:"AES-GCM",iv:o},a=await crypto.subtle.importKey("raw",r,i,!1,["encrypt"]),s=(new TextEncoder).encode(e),c=await crypto.subtle.encrypt(i,a,s),l=Array.from(new Uint8Array(c)).map((e=>String.fromCharCode(e))).join(""),u=btoa(l);return Array.from(o).map((e=>("00"+e.toString(16)).slice(-2))).join("")+u},e.decrypt=async function(e,t){const n=(new TextEncoder).encode(t),r=await crypto.subtle.digest("SHA-256",n),o=e.slice(0,24).match(/.{2}/g).map((e=>parseInt(e,16))),i={name:"AES-GCM",iv:new Uint8Array(o)},a=await crypto.subtle.importKey("raw",r,i,!1,["decrypt"]),s=atob(e.slice(24)),c=new Uint8Array(s.match(/[\s\S]/g).map((e=>e.charCodeAt(0)))),l=await crypto.subtle.decrypt(i,a,c);return(new TextDecoder).decode(l)}}(AESGCMEncryption||(AESGCMEncryption={})),function(e){const t="%=;".split("").map((e=>[e,encodeURIComponent(e)])),n=[...t].reverse();function r(e){for(const[n,r]of t)e=e.replaceAll(n,r);return e}function o(e){for(const[t,r]of n)e=e.replaceAll(r,t);return e}e.parse=function(e){function t(e){const t=e.toLowerCase();return"false"!==t&&("true"===t||("null"===t||""===e?null:e.match(/^\d+(?:\.\d+)?$/)?+e:e.replace(/^"([\s\S]*)"$/,"$1")))}return Object.fromEntries(e.split(";").filter((e=>e.trim())).map((function(e){const[n,r]=e.split("=");return[o(n.trim()),t(o(r.trim()))]})))},e.stringify=function(e){return Object.entries(e).map((([e,t])=>`${r(e)}=${r(function(e){return!1===e?"false":!0===e?"true":null===e?"null":"number"==typeof e?e.toString():e.replace(/^(?:true|false|null|"[\s\S]*"|\d+(?:\.\d+)?||(?:(?: [\s\S]*?)|(?:[\s\S]*? )))$/,'"$&"')}(t))}`)).join(";")}}(ConfigString||(ConfigString={})),function(e){function t(e){if(1!==e.length)throw new Error("CSV delimiter must be exactly one character (code unit) long")}function n(e){return e.replace(/[.*+?^${}()|[\]\\\-]/g,String.raw`\$&`)}e.stringify=function(e,r,{header:o=!0,delimiter:i=","}={}){t(i);const a=new RegExp(String.raw`[\n${n(i)}"]`);function s([e,t]){const n=`${r?r(e,t):t}`;return a.test(n)?`"${n.replaceAll('"','""')}"`:n}function c(e){return e.map(s).join(i)}return(o?`${c(Object.keys(e[0]).map((e=>[null,e])))}\n`:"")+e.map((e=>c(Object.entries(e)))).join("\n")},e.parse=function(e,r,{header:o=!0,delimiter:i=","}={}){var a;t(i);const s=n(i),c=new RegExp(String.raw`(${s}|\r?\n|\r|^)(?:"((?:\\.|""|[^\\"])*)"|([^${s}"\r\n]*))`,"gi"),l=[[]];let u=null;for(;u=c.exec(e);)u[1].length&&u[1]!==i&&l.push([]),l.at(-1).push(u[2]?u[2].replace(/[\\"](.)/g,"$1"):null!==(a=u[3])&&void 0!==a?a:"");if(!o||!l.length)return l.map(((e,t)=>r?r(t.toString(),e):e));const p=l.shift().map((e=>r?r(null,e):e));return l.map((e=>Object.fromEntries(e.map(((e,t)=>[p[t],r?r(p[t],e):e])))))},e.fromCammelCase=function(e){return e[0].toUpperCase()+e.slice(1).replace(/[A-Z]/," $&")},e.toCammelCase=function(e){return e[0].toLowerCase()+e.slice(1).replaceAll(" ","")}}(CSV||(CSV={})),function(e){const t=/(?<!\\)(?:\\{2})*'(?:(?<!\\)(?:\\{2})*\\'|[^'])*(?<!\\)(?:\\{2})*'|(?<!\\)(?:\\{2})*"(?:(?<!\\)(?:\\{2})*\\"|[^"])*(?<!\\)(?:\\{2})*"|(\([\S\s]*?(?<!\\)(?:\\\\)*\))/g,n=/(?<!\\)(?:\\{2})*"(?:(?<!\\)(?:\\{2})*\\"|[^"])*(?<!\\)(?:\\{2})*"|'([\S\s]*?(?<!\\)(?:\\\\)*)'/g,r=/(?<!\\)(?:\\{2})*"(?:(?<!\\)(?:\\{2})*\\"|[^"])*(?<!\\)(?:\\{2})*"|([a-zA-Z_$][0-9a-zA-Z_$]*)(?=\s*?:)/g,o=/(?<!\\)(?:\\{2})*"(?:(?<!\\)(?:\\{2})*\\"|[^"])*(?<!\\)(?:\\{2})*"|(,)(?=\s*?[}\]])/g,i=/(?<!\\)(?:\\{2})*"(?:(?<!\\)(?:\\{2})*\\"|[^"])*(?<!\\)(?:\\{2})*"|(?<=[\[,])(\s*?)(?=[,\]])/g,a=/(?<!\\)(?:\\{2})*"(?:(?<!\\)(?:\\{2})*\\"|[^"])*(?<!\\)(?:\\{2})*"|(?<=:)(\s*?)(?=[,}])/g,s=/(?<!\\)(?:\\{2})*"(?:(?<!\\)(?:\\{2})*\\"|[^"])*(?<!\\)(?:\\{2})*"|(\?)/g,c=/(?<!\\)(?:\\{2})*"(?:(?<!\\)(?:\\{2})*\\"|[^"])*(?<!\\)(?:\\{2})*"|(?<=\d)(_)(?=\d)/g;e.parse=function(e,l){return JSON.parse(e.replace(t,(function(e,...t){return t[0]?"":e})).replace(n,(function(e,...t){return void 0===t[0]?e:`"${t[0].replace(/"/g,'\\"').replace(/\\'/g,"'")}"`})).replace(r,(function(e,...t){return t[0]?`"${t[0]}"`:e})).replace(o,(function(e,...t){return t[0]?"":e})).replace(i,(function(e,...t){return void 0===t[0]?e:"null"})).replace(a,(function(e,...t){return void 0===t[0]?e:"null"})).replace(s,(function(e,...t){return t[0]?"null":e})).replace(c,(function(e,...t){return t[0]?"":e})),l)},e.stringify=JSON.stringify}(JSION||(JSION={}));class JSONStreamParser extends TransformStream{constructor({skipErrors:e=!1,parseJSON:t=JSON.parse}={}){let n="",r=!1,o=r=>{try{r.enqueue(t(n.replace(/,\s*$/,"")))}catch(t){e||r.error(t)}n=""};super({transform(e,t){if(!r){if(/^[\s\[]$/.test(e))return;r=!0}n+=e,/(?:\r?\n){2}$/.test(n)&&n.trim()&&o(t),"]"===n.trim()&&t.terminate()},flush(e){n.trim()&&o(e),n=""}})}}class JSONStreamStringifier extends TransformStream{constructor({skipErrors:e=!1,stringifyJSON:t=JSON.stringify,endl:n="\n"}={}){let r,o=!1,i=i=>{try{i.enqueue((o?",":"")+n.repeat(2)+t(r)),o=!0}catch(t){e||i.error(t)}};super({start(e){e.enqueue("[")},transform(e,t){void 0!==r&&i(t),r=e},flush(e){void 0!==r&&i(e),r=void 0,e.enqueue(n.repeat(2)+"]")}})}}!function(e){function t(e,t=0){let n=3735928559^t,r=1103547991^t;for(let t,o=0;o<e.length;o++)t=e.charCodeAt(o),n=Math.imul(n^t,2654435761),r=Math.imul(r^t,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),(r>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}let n,r;function o(e,r,o){if(n.isInvalid(e))throw"Invalid Unicode Noncharacters present in text";"disable sanitizer"!==o&&(e=e.replace(/[<>&"']/g,(e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#x27;";default:throw null}})));const i=new Map;return function e(t,o){for(;t.includes(n.INLINE_MARKER)||t.includes(n.BLOCK_MARKER);)t=t.replace(/([\ufffe\uffff]).*?\1/,(t=>{var n;const a=i.get(t);return o?a.text:(null!==(n=r.get(a.blockType).reviver)&&void 0!==n?n:({blockType:e,groups:t})=>`<${e}>${t.TEXT}</${e}>`)(a,e)}));return t}(function e(r,o){for(const[a,{pattern:s,isInline:c}]of o.entries())r=r.replace(s,((...r)=>{const s=r[0],l=r[r.length-1],u="object"==typeof l?l:void 0,p=(null==c||c)&&n.INLINE_MARKER||n.BLOCK_MARKER,d=`${p}${t(s).split("").map((e=>n.HEXADECIMAL_MAPPING[e])).join("")}${p}`;for(const[t,n]of Object.entries(null!=u?u:{}))t.toUpperCase()===t&&(u[t]=e(n,new Map([...o.entries()].filter((([e])=>e!==a)))));return i.set(d,{blockType:a,text:s,groups:u}),d}));return r}(e,r))}function i(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function a(e,t="none",n=!0,i=1){if(e=s(e),"none"!==t){const n=function(){switch(t){case"html":return r.Code.htmlHighlighter();case"css":return r.Code.cssHighlighter();case"js":case"javascript":return t="javascript",r.Code.javascriptHighlighter();case"ts":case"typescript":return t="typescript",r.Code.typescriptHighlighter();case"xml":return r.Code.xmlHighlighter();case"json":return r.Code.jsonHighlighter();case"py":case"python":return t="python",r.Code.pythonHighlighter();case"diff":return r.Code.diffHighlighter();case"c":case"c++":case"cpp":return t="c++",r.Code.cppHighlighter();case"sh":case"shell":case"bash":return t="bash",r.Code.bashHighlighter();case"java":return r.Code.javaHighlighter();default:return new Map}}();e=o(e,n)}return n&&(e=e.split("\n").map(((t,n)=>`<span data-code-token="line-number">${(n+i).toString().padStart((e.split("\n").length+i).toString().length," ")}</span><span data-code-token="line" data-code-line="${n+i}">${t}</span>`)).join("\n")),`<span data-code-language="${t}">${e}</span>`}function s(e){return e.replace(/\r(?=\n)/g,"")}e.VERSION=Object.freeze({toString:()=>`${e.VERSION.major}.${e.VERSION.minor}.${e.VERSION.patch}${void 0!==e.VERSION.prerelease?`-${e.VERSION.prerelease}`:""}${void 0!==e.VERSION.metadata?`+${e.VERSION.metadata}`:""}`,major:1,minor:7,patch:2}),function(e){e.NONCHARACTERS=Object.freeze([...function*(){for(let e=0;e<16;e++)yield 65534+65536*e,yield 65535+65536*e;yield 1114110,yield 1114110;for(let e=64976;e<65008;e++)yield e}()].map((e=>String.fromCodePoint(e))));const t=function*(){for(const t of e.NONCHARACTERS)yield t}();function n(){var e;return null!==(e=t.next().value)&&void 0!==e?e:(e=>{throw e})("No more noncharacters")}e.nextNoncharacter=n,e.isInvalid=function(t){return new RegExp(`[${e.NONCHARACTERS.join("")}]`).test(t)},e.INLINE_MARKER=n(),e.BLOCK_MARKER=n(),e.HEXADECIMAL_MAPPING=Object.fromEntries(Array.apply(null,{length:16}).map(((e,t)=>[t.toString(16),n()])))}(n||(n={})),function(n){function r(e=new Map){const t=new Map;function r(e){return new RegExp(String.raw`(${e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})(?<TEXT>.*?)\1`,"g")}return t.set("escaped",{pattern:/\\(?<what>[^ntp])/g,reviver:({groups:e})=>e.what}),t.set("raw",{pattern:/&lt;&lt;\/(?<text>[\s\S]*?)\/&gt;&gt;/g,reviver:({groups:e})=>e.text}),t.set("src_comment",{pattern:/&lt;!!--(?<text>[\s\S]*?)--&gt;/g,reviver:()=>""}),t.set("comment",{pattern:/&lt;!--(?<text>[\s\S]*?)--&gt;/g,isInline:!0,reviver:({groups:e})=>`\x3c!--${e.text}--\x3e`}),t.set("code",{pattern:/(`)(?<text>.*?)\1/g,reviver:({groups:e},t)=>`<code>${t(e.text,!0)}</code>`}),t.set("symbol",{pattern:/\/(?<what>(&#x27;|&quot;|.).|\?|!)\//g,reviver({groups:e}){var t,r;switch(e.what){case"!":return"&iexcl;";case"?":return"&iquest;";default:return null!==(r=null===(t=n.SYMBOLS[e.what.substring(0,e.what.length-1)])||void 0===t?void 0:t[e.what.substring(e.what.length-1)])&&void 0!==r?r:`/${e.what}/`}}}),t.set("unicode_shortcut",{pattern:/(?<=\b)(?:TM|SS|PG|SM)(?=\b)|\([cCrR]\)|-&gt;|&lt;-/g,reviver({text:e}){switch(e){case"SS":return"&sect;";case"PG":return"&para;";case"SM":return"&#8480;";case"TM":return"&trade;";case"(C)":case"(c)":return"&copy";case"(R)":case"(r)":return"&reg;";case"-&gt;":return"&rarr;";case"&lt;-":return"&larr;";default:return e}}}),t.set("strong",{pattern:/(\*\*)(?=[^*])(?<TEXT>.*?)\1/g}),t.set("em",{pattern:/(\*)(?=[^*])(?<TEXT>.*?)\1/g}),t.set("u",{pattern:r("__")}),t.set("del",{pattern:r("~~")}),t.set("sup",{pattern:r("^^")}),t.set("sub",{pattern:r(",,")}),t.set("mark",{pattern:/(\|\|)(\[(?:color=)?(?<color>[^;]*?)\])?(?<TEXT>.*?)\1/g,reviver:({groups:e})=>`<mark${e.color?` style="background-color:${e.color}"`:""}>${e.TEXT}</mark>`}),t.set("span",{pattern:/(&amp;&amp;)(\[(?:color=)?(?<color>[^;]*?)\])?(?<TEXT>.*?)\1/g,reviver({groups:e}){var t;return`<span style="color:${null!==(t=e.color)&&void 0!==t?t:"red"}">${e.TEXT}</span>`}}),t.set("spoiler",{pattern:/&lt;\?(?<TEXT>.*?)\?&gt;/g,reviver:({groups:e})=>`<span style="filter: blur(0.25em); cursor: pointer;" title="Show spoiler?" onclick="this.removeAttribute('style'); this.removeAttribute('title'); this.removeAttribute('onclick');">${e.TEXT}</span>`}),t.set("custom_token",{pattern:/:(?<what>[a-zA-Z0-9][a-zA-Z0-9_\-]*?):/g,isInline:!0,reviver({groups:t}){var n;return null!==(n=e.get(t.what))&&void 0!==n?n:`:${t.what}:`}}),t.set("nbsp",{pattern:/\\p/g,reviver:()=>"&nbsp;"}),t.set("emsp",{pattern:/\\t/g,reviver:()=>"&emsp;"}),t.set("linebreak",{pattern:/\\n/g,reviver:()=>"<br>"}),t.set("wordbreak",{pattern:/(?<=\S)-\/-(?=\S)/g,reviver:()=>"<wbr>"}),t.set("a",{pattern:/(?<newtab>\+)?\[(?<href>.*?)\]\((?<TEXT>.*?)\)/g,isInline:!0,reviver:({blockType:e,text:t,groups:n})=>`<a href="${/^[^:]*?(?:(?:(?<=mailto|tel|https|http):|\/.*:).*)?$/g.test(n.href)?n.href:"about:blank#blocked"}"${n.newtab?' target="_blank"':""}>${n.TEXT}</a>`}),t.set("autolink",{pattern:/(?<text>(?:(?<protocol>https?:\/\/)|(?<www>www\.))(?<link>\w[\w\-]*(?<=\w)\.\w[\w.\/?&#%=+\-]*(?<=[\w\/])))/g,reviver({groups:e}){var t,n;return`<a href="${null!==(t=e.protocol)&&void 0!==t?t:"https://"}${null!==(n=e.www)&&void 0!==n?n:""}${e.link}">${e.text}</a>`}}),t.set("autolink_email",{pattern:/(?<text>\w[\w.\-]*?@[\w.\-]+\.\w+)/g,reviver:({groups:e})=>`<a href="mailto:${e.text}">${e.text}</a>`}),t.set("html",{pattern:/&lt;(?<what>\/?(?:code|em|i|strong|b|u|del|sub|sup|mark|span|wbr|br))&gt;/g,isInline:!0,reviver:({blockType:e,text:t,groups:n})=>`<${n.what}>`}),t}let o;n.SYMBOLS={"~":{A:"Ã",I:"Ĩ",N:"Ñ",O:"Õ",U:"Ũ",a:"ã",i:"ĩ",n:"ñ",o:"õ",u:"ũ"},":":{A:"Ä",E:"Ë",I:"Ï",O:"Ö",U:"Ü",Y:"Ÿ",a:"ä",e:"ë",i:"ï",o:"ö",u:"ü",y:"ÿ"},"&#x27;":{A:"Á",C:"Ć",E:"É",I:"Í",L:"Ĺ",N:"Ń",O:"Ó",R:"Ŕ",S:"Ś",U:"Ú",Y:"Ý",Z:"Ź",a:"á",c:"ć",e:"é",g:"ǵ",i:"í",l:"ĺ",n:"ń",o:"ó",r:"ŕ",s:"ś",u:"ú",y:"ý",z:"ź"},"&quot;":{O:"Ő",U:"Ű",o:"ő",u:"ű"},"`":{A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù",a:"à",e:"è",i:"ì",o:"ò",u:"ù"},"^":{A:"Â",C:"Ĉ",E:"Ê",G:"Ĝ",H:"Ĥ",I:"Î",J:"Ĵ",O:"Ô",S:"Ŝ",U:"Û",W:"Ŵ",Y:"Ŷ",a:"â",c:"ĉ",e:"ê",g:"ĝ",h:"ĥ",i:"î",j:"ĵ",o:"ô",s:"ŝ",u:"û",w:"ŵ",x:"◯",y:"ŷ"},o:{A:"Å",U:"Ů",a:"å",u:"ů"},"/":{O:"Ø",h:"ℏ",o:"ø"},",":{C:"Ç",G:"Ģ",K:"Ķ",L:"Ļ",N:"Ņ",R:"Ŗ",S:"Ş",T:"Ţ",c:"ç",k:"ķ",l:"ļ",n:"ņ",r:"ŗ",s:"ş",t:"ţ"},"-":{A:"Ā",E:"Ē",I:"Ī",O:"Ō",U:"Ū",a:"ā",e:"ē",i:"ī",o:"ō",u:"ū"},u:{A:"Ă",G:"Ğ",U:"Ŭ",a:"ă",g:"ğ",u:"ŭ"},".":{C:"Ċ",E:"Ė",G:"Ġ",I:"İ",Z:"Ż",c:"ċ",e:"ė",g:"ġ",o:"⊙",s:"⋅",t:"⃛",z:"ż"},"?":{A:"Ą",E:"Ę",I:"Į",U:"Ų",a:"ą",e:"ę",i:"į",u:"ų"},v:{C:"Č",D:"Ď",E:"Ě",L:"Ľ",N:"Ň",R:"Ř",S:"Š",T:"Ť",Z:"Ž",c:"č",d:"ď",e:"ě",l:"ľ",n:"ň",r:"ř",s:"š",t:"ť",z:"ž"},_:{D:"Đ",H:"Ħ",L:"Ł",T:"Ŧ",d:"đ",h:"ħ",l:"ł",t:"ŧ"}},n.unicodeMarkup=function(e=new Map){const t=new Map;function r(e,t,n){return String.fromCharCode(55349,e.charCodeAt(0)+(n.charCodeAt(1)-t.charCodeAt(0)))}function o(e){return new RegExp(String.raw`(${e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})(?<TEXT>.*?)\1`,"g")}return t.set("escaped",{pattern:/\\(?<what>[^ntp])/g,reviver:({groups:e})=>e.what}),t.set("raw",{pattern:/<<\/(?<text>[\s\S]*?)\/>>/g,reviver:({groups:e})=>e.text}),t.set("code",{pattern:/(`)(?<text>.*?)\1/g,reviver:({groups:e},t)=>t(e.text,!0).replace(/[a-z]/g,(e=>r(e,"a","𝚊"))).replace(/[A-Z]/g,(e=>r(e,"A","𝙰"))).replace(/\d/g,(e=>r(e,"1","𝟷")))}),t.set("symbol",{pattern:/\/(?<what>('|"|.).|\?|!)\//g,reviver({groups:e}){var t,r;switch(e.what=e.what.replace('"',"&quot;").replace("'","&#x27;"),e.what){case"!":return"¡";case"?":return"¿";default:return null!==(r=null===(t=n.SYMBOLS[e.what.substring(0,e.what.length-1)])||void 0===t?void 0:t[e.what.substring(e.what.length-1)])&&void 0!==r?r:`/${e.what}/`}}}),t.set("unicode_shortcut",{pattern:/(?<=\b)(?:TM|SS|PG|SM)(?=\b)|\([cCrR]\)|-&gt;|&lt;-/g,reviver({text:e}){switch(e){case"SS":return"§";case"PG":return"¶";case"SM":return"℠";case"TM":return"™";case"(C)":case"(c)":return"©";case"(R)":case"(r)":return"®";case"->;":return"→";case"<-":return"←";default:return e}}}),t.set("em_strong",{pattern:/(\*\*\*)(?=[^*])(?<TEXT>.*?)\1/g,reviver:({groups:e},t)=>t(e.TEXT).replace(/[a-z]/g,(e=>r(e,"a","𝙖"))).replace(/[A-Z]/g,(e=>r(e,"A","𝘼"))).replace(/\d/g,(e=>r(e,"1","𝟭")))}),t.set("strong",{pattern:/(\*\*)(?=[^*])(?<TEXT>.*?)\1/g,reviver:({groups:e},t)=>t(e.TEXT).replace(/[a-z]/g,(e=>r(e,"a","𝗮"))).replace(/[A-Z]/g,(e=>r(e,"A","𝗔"))).replace(/\d/g,(e=>r(e,"1","𝟭")))}),t.set("em",{pattern:/(\*)(?=[^*])(?<TEXT>.*?)\1/g,reviver:({groups:e},t)=>t(e.TEXT).replace(/[a-z]/g,(e=>r(e,"a","𝘢"))).replace(/[A-Z]/g,(e=>r(e,"A","𝘈")))}),t.set("u",{pattern:o("__"),reviver:({groups:e},t)=>t(e.TEXT).replace(/\uD835.|[a-z0-9]/gi,(e=>e+String.fromCharCode(8288,"a͟".charCodeAt(1))))}),t.set("del",{pattern:o("~~"),reviver:({groups:e},t)=>t(e.TEXT).replace(/\uD835.|[a-z0-9]/gi,(e=>e+String.fromCharCode(8288,"a̶".charCodeAt(1))))}),t.set("custom_token",{pattern:/:(?<what>[a-zA-Z0-9][a-zA-Z0-9_\-]*?):/g,isInline:!0,reviver({groups:t}){var n;return null!==(n=e.get(t.what))&&void 0!==n?n:`:${t.what}:`}}),t.set("nbsp",{pattern:/\\p/g,reviver:()=>String.fromCharCode(160)}),t.set("emsp",{pattern:/\\t/g,reviver:()=>String.fromCharCode(8195)}),t.set("linebreak",{pattern:/\\n/g,reviver:()=>"\n"}),t},n.inlineMarkup=r,n.blockMarkup=function(n=new Map,o=new Map,i=new Set){const a=new Map,s=r(n);a.set("escaped",s.get("escaped")),a.set("raw",s.get("raw")),a.set("src_comment",s.get("src_comment")),a.set("comment",s.get("comment")),a.set("code_block",{pattern:/(```+)(?<lines>#)?(?<language>c\+\+|[a-z]+)?(?<text>[\s\S]*?)\1/g,isInline:!1,reviver({groups:t},n){var r;return`<pre><code>${t.language||t.lines?e.parseCode(n(t.text,!0).replace(/&lt;|&gt;|&amp;|&quot;|&#x27;/g,(e=>{switch(e){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&quot;":return'"';case"&#x27;":return"'";default:throw null}})).trim(),null!==(r=t.language)&&void 0!==r?r:"none","#"===t.lines):n(t.text,!0).trim()}</code></pre>`}}),a.set("property",{pattern:/^[\t ]*?![\t ]*?(?<key>[a-zA-Z_][a-zA-Z_0-9]*?)(?<!http|https):(?<value>.*?)$/gm,isInline:!1,reviver:({groups:e})=>(o.set(e.key,e.value.trim()),"")}),a.set("template",{pattern:/\${(?<key>[a-zA-Z_][a-zA-Z_0-9]*?)\}/g,isInline:!0,reviver({groups:e}){var t;return null!==(t=o.get(e.key))&&void 0!==t?t:`\${${e.key}}`}}),a.set("image",{pattern:/!\[(?<src>\S*?)(?:[\t ]*?(?<height>auto|\d*)(?:[xX](?<width>auto|\d*))?)?\](?:\((?<alt>.*?)\))?/g,reviver({groups:e}){var t;return null!==(t=e.width)&&void 0!==t||(e.width=e.height),`<img src="${e.src}"${e.alt?` alt="${e.alt}"`:""}${e.height?` height="${e.height}"`:""}${e.width?` width="${e.width}"`:""}>`}});for(const e of s.entries())a.has(e[0])||a.set(...e);return a.set("details",{pattern:/(?<=\n|^)[\t ]*!(?<mode>[vV]|&gt;)?!(?<summary>.*?)\[\s*(?<DETAILS>[\s\S]*?)\s*(?<!\])\](?!\])/g,isInline:!1,reviver({groups:e}){var t,n;return`<details${"v"===(null===(n=null===(t=e.mode)||void 0===t?void 0:t.toLowerCase)||void 0===n?void 0:n.call(t))?" open":""}><summary>${e.summary}</summary>\n${e.DETAILS}</details>`}}),a.set("text-align",{pattern:/(?<=\n|^)[^\S\n]*?@@\s*?(?<what>center(?:ed)?|left|right|justif(?:y|ied)(?:-all)?)\s*?(?<TEXT>[\s\S]*?)(?:$|(?:(?<=\n)[^\S\n]*?@@[\t ]*?reset)|(?=\n[^\S\n]*?@@[\t ]*?(?:center(?:ed)?|left|right|justif(?:y|ied)(?:-all)?)))/g,isInline:!1,reviver({groups:e}){var t;return`<div style="text-align: ${null!==(t={centered:"center",justified:"justify","justified-all":"justify-all"}[e.what])&&void 0!==t?t:e.what};">${e.TEXT}</div>`}}),a.set("numbered_header",{pattern:/^[\t ]*?(?<count>#{1,6})(?:\[(?<id>[a-zA-Z_][a-zA-Z_0-9]*?)\])?[\t ]?(?<TEXT>[^\uffff]*?)\k<count>?(?=\n|$)/gm,isInline:!1,reviver({groups:e}){var n;return e.id&&i.add(`h${e.count.length}:${e.id}`),null!==(n=e.id)&&void 0!==n||(e.id=t(e.TEXT)),`<h${e.count.length} id="h${e.count.length}:${e.id}"><a href="#h${e.count.length}:${e.id}" title="Link to section">${e.TEXT}</a></h${e.count.length}>`}}),a.set("hr",{pattern:/^[\t ]*([-=])\1{2,}[\t ]*$/gm,isInline:!1,reviver:()=>"<hr>"}),a.set("table",{pattern:/\[\[(?:\n\s*(?:title=)?(?<title>[^,\n]*)\n)?(?<contents>[\s\S]*?)\]\]/g,isInline:!1,reviver({groups:e}){const t=e.contents.trim().split("\n").map(((e,t)=>`\n<tr>${e.split(",").map((e=>`<t${t?"d":"h"}>${e.trim()}</t${t?"d":"h"}>`)).join("")}</tr>`));return`<table>${e.title?`\n<caption>${e.title.trim()}</caption>`:""}\n<thead>${t.shift()}\n<thead>\n<tbody>${t.join("")}\n<tbody>\n</table>`}}),a.set("list",{pattern:/(?<text>(?<=\n|^)[\t ]*?(?:\+|\d+[.)])[\s\S]*?(?=\n\n|$))/g,isInline:!1,reviver({groups:e}){var t;const n=[];let r=null,o=0,i="";function a(e){i+=`<${e}>`,n.push(e)}function s(){i+=`</${n.pop()}>`}for(const n of e.text.trim().split("\n")){const e=null===(t=n.match(/(?<whitespace>\s*?)(?<what>\+|\d+[.)])(?:\s*)(?<text>.*)/))||void 0===t?void 0:t.groups;if(!e){i=i.replace(/(<\/..\>)$/,"<br>"+n.trim()+"$1");continue}const c="+"===e.what?"ul":"ol";null==r||e.whitespace.length>o?a(c):e.whitespace.length<o?s():c!==r&&(s(),a(c)),i+=`<li>${e.text}</li>`,[r,o]=[c,e.whitespace.length]}for(;n.length;)s();return i}}),a.set("blockquote",{pattern:/(?<text>(?:(?:&gt;){3}[\s\S]*?(?:-[\t ]*?(?<citation>.*?))?(?:\n|$))+)/g,isInline:!1,reviver({groups:e}){var t;return`<figure><blockquote>${e.text.replace(/(?:&gt;){3}/g,"").replace(new RegExp(String.raw`-\s*?${null===(t=e.citation)||void 0===t?void 0:t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}\s*?$`),"")}</blockquote>${e.citation&&`<figcaption><cite>- ${e.citation}</cite></figcaption>`||""}</figure>`}}),a.set("block_html",{pattern:/&lt;(?<what>\/?(?:h[123456]|hr|blockquote|ul|ol|li))&gt;/g,isInline:!1,reviver:({groups:e})=>`<${e.what}>`}),a.set("text",{pattern:/(?<=\n)\n?(?<TEXT>[^\uffff]+?)(?=  \s*?\n|\n\n|\uffff|$)/g,isInline:!1,reviver:({blockType:e,text:t,groups:n})=>n.TEXT.trim()?`<p>${n.TEXT.trim()}</p>\n`:""}),a},function(e){function t(e,t,n){return t.split("\n").map((t=>e+t+n)).join("\n")}function n(e,n,r){r.set(e,{pattern:n,reviver:({groups:n})=>t(`<span data-code-token="${e}">`,n.text,"</span>")})}function r(){const e=new Map;function n(e){return e.replace(/&lt;|&gt;|&amp;|&quot;|&#x27;/g,(e=>{switch(e){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&quot;":return'"';case"&#x27;":return"'";default:throw null}}))}return e.set("comment",{pattern:/(?<text>(?:&lt;!--[\s\S]*?--&gt;))/g,reviver:({groups:e},n)=>t('<span data-code-token="comment">',n(e.text).replace(/<span data-code-token="string">|<\/span>/g,""),"</span>")}),e.set("doctype",{pattern:/^(?<whitespace>\s*)(?<text>&lt;!DOCTYPE\b.*?&gt;)/i,reviver:({groups:e})=>`${e.whitespace||""}<span data-code-token="doctype">${e.text}</span>`}),e.set("style",{pattern:/(?<OPENTAG>&lt;style\b.*?&gt;)(?<content>[\s\S]*?)(?<CLOSETAG>&lt;\/style&gt;)/g,reviver:({groups:e},t)=>e.OPENTAG+a(n(t(e.content)),"css",!1)+e.CLOSETAG}),e.set("script",{pattern:/(?<OPENTAG>&lt;script\b.*?&gt;)(?<content>[\s\S]*?)(?<CLOSETAG>&lt;\/script&gt;)/g,reviver:({groups:e},t)=>e.OPENTAG+a(n(t(e.content)),"javascript",!1)+e.CLOSETAG}),e.set("tag-open",{pattern:/(?<name>&lt;[a-z\-0-9]+)(?<DATA>[^\uffff\ufffe]*?)(?<close>\/?&gt;)/gi,reviver({groups:e}){var t;return`<span data-code-token="tag">${e.name}</span>${null!==(t=e.DATA)&&void 0!==t?t:""}<span data-code-token="tag">${e.close}</span>`}}),e.set("string",{pattern:/(?<front>=\s*?)(?<text>&#x27;&#x27;|&quot;&quot;|(?:(?<what>&quot;|&#x27;)(?:.*?[^\\\n])?(?:\\\\)*\k<what>))/g,reviver:({groups:e})=>e.front+`<span data-code-token="string">${e.text}</span>`}),e.set("tag-close",{pattern:/(?<text>&lt;\/[a-z\-0-9]+\s*?&gt;)/gi,reviver:({groups:e})=>`<span data-code-token="tag">${e.text}</span>`}),e}e.SUPPORTED_LANGUAGES=["html","css","js","javascript","ts","typescript","xml","json","py","python","diff","c","c++","cpp","sh","shell","bash","java","none"],e.htmlHighlighter=r;const o=["charset","color-profile ","counter-style","document ","font-face","font-feature-values","import","keyframes","media","namespace","page","property ","supports","viewport","color-profile","document","layer","property","scroll-timeline","swash","ornaments","annotation","stylistic","styleset","character-variant"];e.cssHighlighter=function(){const e=new Map,r=(t,r)=>n(t,r,e);return r("string",/(?<text>&#x27;&#x27;|&quot;&quot;|(?:(?<what>&quot;|&#x27;)(?:.*?[^\\\n])?(?:\\\\)*\k<what>))/g),e.set("comment",{pattern:/(?<text>(?:\/\*[\s\S]*?\*\/))/g,reviver:({groups:e},n)=>t('<span data-code-token="comment">',n(e.text).replace(/<span data-code-token="string">|<\/span>/g,""),"</span>")}),r("keyword",new RegExp(String.raw`(?<text>@(?:${o.join("|")})\b)`,"g")),r("selector",/(?<text>[^\s{};\uffff\ufffe][^{};\uffff\ufffe]*?[^\s{};\uffff\ufffe]?(?=\s*{))/g),r("property",/(?<text>\b[a-z\-]+:)/g),r("hexadecimal",/(?<text>(?<!&)#(?:(?:[0-9a-f]){8}|(?:[0-9a-f]){6}|(?:[0-9a-f]){3,4})\b)/gi),r("number",/(?<text>\b(\d[\d_]*\.?[\d_]*((?<=[\d.])e[+\-]?\d[\d_]*)?n?(?<!_))(?:%|\b|[a-z]+))/gi),r("function",/(?<text>\b[a-z\-]+\b(?=\())/g),r("other",/(?<text>(?<!&)\b[a-z\-]+\b)/g),e};const s=["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield","implements","interface","let","package","private","protected","public","static","yield","await","null","true","false","abstract","boolean","byte","char","double","final","float","goto","int","long","native","short","synchronized","throws","transient","volatile","of","eval"];e.javascriptHighlighter=function(){return l(s)};const c=["enum","as","asserts","any","async","constructor","declare","get","infer","intrinsic","is","keyof","module","namespace","never","readonly","require","number","object","set","string","symbol","type","undefined","unique","unknown","from","global","bigint","override"];function l(e){const r=new Map,o=(e,t)=>n(e,t,r);return r.set("multiline-string",{pattern:/(?<text>(?<what>`)(?:[^\uffff\ufffe]*?[^\\])?(?:\\\\)*\k<what>)/g,reviver:({groups:e})=>t('<span data-code-token="string">',e.text,"</span>")}),o("string",/(?<text>&#x27;&#x27;|&quot;&quot;|(?:(?<what>&quot;|&#x27;)(?:.*?[^\\\n])?(?:\\\\)*\k<what>))/g),r.set("comment",{pattern:/(?<text>(?:\/\/.*)|(?:\/\*[\s\S]*?\*\/))/g,reviver:({groups:e},n)=>t('<span data-code-token="comment">',n(e.text).replace(/<span data-code-token="string">|<\/span>/g,""),"</span>")}),o("number",/(?<text>\b(?:Infinity|NaN|0(?:[xX][0-9a-fA-F][0-9a-fA-F_]*|[bB][01][01_]*|[oO][0-7][0-7_]*)(?<!_)|\d[\d_]*\.?[\d_]*((?<=[\d.])[eE][+\-]?\d[\d_]*)?n?(?<!_))\b)/g),o("keyword",new RegExp(String.raw`(?<text>\b(?:${e.join("|")})\b)`,"g")),r}e.typescriptHighlighter=function(){return l([...s,...c])},e.ecmascriptHighlighter=l,e.xmlHighlighter=function(){const e=new Map,n=r(),o=t=>e.set(t,n.get(t));return o("comment"),e.set("processing-instruction",{pattern:/(?<name>&lt;\?[a-z0-9\-]+)(?<DATA>\b.*?)(?<close>\?&gt;)/gi,reviver:({groups:e})=>`<span data-code-token="processing-instruction">${e.name}</span>${e.DATA}<span data-code-token="processing-instruction">${e.close}</span>`}),e.set("cdata",{pattern:/(?<open>&lt;!\[CDATA\[)(?<content>[\s\S]*?)(?<close>\]\]&gt;)/g,reviver:({groups:e})=>`<span data-code-token="cdata">${e.open}</span>`+t('<span data-code-token="cdata-content">',e.content,"</span>")+`<span data-code-token="cdata">${e.close}</span>`}),e.set("tag-open",{pattern:/(?<name>&lt;[a-z\-0-9]+(?:\:[a-z\-0-9]+)?)(?<DATA>[^\uffff\ufffe]*?)(?<close>\/?&gt;)/gi,reviver({groups:e}){var t;return`<span data-code-token="tag">${e.name}</span>${null!==(t=e.DATA)&&void 0!==t?t:""}<span data-code-token="tag">${e.close}</span>`}}),o("string"),e.set("tag-close",{pattern:/(?<text>&lt;\/[a-z\-0-9]+(?:\:[a-z\-0-9]+)?\s*?&gt;)/gi,reviver:({groups:e})=>`<span data-code-token="tag">${e.text}</span>`}),e},e.jsonHighlighter=function(){const e=new Map,t=(t,r)=>n(t,r,e);return t("string",/(?<text>&quot;&quot;|(?:(?<what>&quot;)(?:.*?[^\\\n])?(?:\\\\)*\k<what>))/g),t("number",/(?<text>-?\b\d+(\.\d+)?(e[+\-]?\d+)?\b)/gi),t("keyword",/(?<text>\b(?:true|false|null)\b)/g),e};const u=["and","as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal","not","or","pass","raise","return","try","while","with","yield"];e.pythonHighlighter=function(){const e=new Map,r=(t,r)=>n(t,r,e);return e.set("multiline-string",{pattern:/(?<text>(?<what>(?<qtype>&quot;|&#x27;)\k<qtype>{2})(?:[^\uffff\ufffe]*?[^\\])?(?:\\\\)*\k<what>)/g,reviver:({groups:e})=>t('<span data-code-token="string">',e.text,"</span>")}),r("string",/(?<text>&#x27;&#x27;|&quot;&quot;|(?:(?<what>&quot;|&#x27;)(?:.*?[^\\\n])?(?:\\\\)*\k<what>))/g),e.set("comment",{pattern:/(?<text>(?:(?<!&)#.*))/g,reviver:({groups:e},t)=>`<span data-code-token="comment">${t(e.text).replace(/<span data-code-token="string">|<\/span>/g,"")}</span>`}),r("number",/(?<text>\b(?:0(?:[xX][0-9a-fA-F][0-9a-fA-F_]*|[bB][01][01_]*|[oO][0-7][0-7_]*)(?<!_)|\d[\d_]*\.?[\d_]*((?<=[\d.])[eE][+\-]?\d[\d_]*)?j?(?<!_))\b)/g),r("value",/(?<text>\b(?:True|False|None)\b)/g),r("keyword",new RegExp(String.raw`(?<text>\b(?:${u.join("|")})\b)`,"g")),e},e.diffHighlighter=function(){const e=new Map;return e.set("heading",{pattern:/^(?<range>@@ -\d+,\d+ \+\d+,\d+ @@)(?<heading> .*)?$/gm,reviver:({groups:e})=>`<span data-code-token="range">${e.range}</span>`+(e.heading?`<span data-code-token="heading">${e.heading}</span>`:"")}),e.set("insertion",{pattern:/^(?<text>\+.*)$/gm,reviver:({groups:e})=>`<span data-code-token="insertion"><ins>${e.text}</ins></span>`}),e.set("deletion",{pattern:/^(?<text>-.*)$/gm,reviver:({groups:e})=>`<span data-code-token="deletion"><del>${e.text}</del></span>`}),e},e.javaHighlighter=function(){const e=new Map,r=(t,r)=>n(t,r,e);return e.set("multiline-string",{pattern:/(?<text>(?<what>(?<qtype>&quot;){3})(?:[^\uffff\ufffe]*?[^\\])?(?:\\\\)*\k<what>)/g,reviver:({groups:e})=>t('<span data-code-token="string">',e.text,"</span>")}),r("string",/(?<text>&#x27;&#x27;|&quot;&quot;|(?:(?<what>&quot;|&#x27;)(?:.*?[^\\\n])?(?:\\\\)*\k<what>))/g),e.set("comment",{pattern:/(?<text>(?:\/\/.*)|(?:\/\*[\s\S]*?\*\/))/g,reviver:({groups:e},n)=>t('<span data-code-token="comment">',n(e.text).replace(/<span data-code-token="string">|<\/span>/g,""),"</span>")}),r("number",/(?<text>\b(?:0(?:x[0-9a-f][0-9a-f_]*|b[01][01_]*)(?<!_)|\d[\d_]*\.?[\d_]*((?<=[\d.])e[+\-]?\d[\d_]*)?[dfl]?(?<!_))\b)/gi),r("keyword",new RegExp(String.raw`(?<text>\b(?:${["abstract","continue","for","new","switch","assert","default","goto","package","synchronized","boolean","do","if","private","this","break","double","implements","protected","throw","byte","else","import","public","throws","case","enum","instanceof","return","transient","catch","extends","int","short","try","char","final","interface","static","void","class","finally","long","strictfp","volatile","const","float","native","super","while","try","false","null","var"].join("|")})\b)`,"g")),r("annotation",/(?<text>@[a-zA-Z_$][a-zA-Z_$0-9]*)\b/g),e},e.cppHighlighter=function(){const e=new Map,r=(t,r)=>n(t,r,e);return e.set("compiler-directive",{pattern:/(?<directive>(?<!&)#\s*?[a-z]+)(?<text>(?:\\\n|[^\n])*?(?:\n|$))/g,reviver:({groups:e})=>`<span data-code-token="compiler-directive">${e.directive}<span data-code-token="compiler-directive-value">${e.text}</span></span>`}),e.set("multiline-string",{pattern:/(?<text>R&quot;(?<what>[^\uffff\ufffe]{0,16}?)\([^\uffff\ufffe]*?\)\k<what>&quot;)/g,reviver:({groups:e})=>t('<span data-code-token="string">',e.text,"</span>")}),r("string",/(?<text>(?:L|u8|u|U)?(?:&#x27;&#x27;|&quot;&quot;|(?:(?<what>&quot;|&#x27;)(?:.*?[^\\\n])?(?:\\\\)*\k<what>)))/g),e.set("comment",{pattern:/(?<text>(?:\/\/.*)|(?:\/\*[\s\S]*?\*\/))/g,reviver:({groups:e},n)=>t('<span data-code-token="comment">',n(e.text).replace(/<span data-code-token="string">|<\/span>/g,""),"</span>")}),r("number",/(?<text>\b(?:0(?:x[0-9a-f](?:[0-9a-f]|&#x27;)*|b[01](?:[01]|&#x27;)*)(?<!&#x27;)|\d(?:\d|&#x27;)*\.?(?:\d|&#x27;)*((?<=[\d.])e[+\-]?\d(?:\d|&#x27;)*)?[fulz]{0,3}(?<!&#x27;))\b)/gi),r("keyword",new RegExp(String.raw`(?<text>\b(?:${["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","bool","break","case","catch","char","char8_t","char16_t","char32_t","class","compl","concept","const","consteval","constexpr","constinit","const_cast","continue","co_await","co_return","co_yield","decltype","default","delete","do","double","dynamic_cast","else","enum","explicit","export","extern","false","float","for","friend","goto","if","inline","int","long","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","private","protected","public","reflexpr","register","reinterpret_cast","requires","return","short","signed","sizeof","static","static_assert","static_cast","struct","switch","synchronized","template","this","thread_local","throw","true","try","typedef","typeid","typename","union","unsigned","using","virtual","void","volatile","wchar_t","while","xor","xor_eq","final","override","transaction_safe","transaction_safe_dynamic","import","module","_Pragma","NULL"].join("|")})\b)`,"g")),e},e.bashHighlighter=function(){const e=new Map,r=(t,r)=>n(t,r,e);return e.set("multiline-string",{pattern:/(?<text>&#x27;&#x27;|(?:(?<what>&#x27;)(?:[^\uffff\ufffe]*?[^\\])?(?:\\\\)*\k<what>))/g,reviver:({groups:e})=>t('<span data-code-token="string">',e.text,"</span>")}),r("string",/(?<text>(?<what>&quot;))/g),e.set("comment",{pattern:/(?<text>(?:(?<!&)#.*))/g,reviver:({groups:e},t)=>`<span data-code-token="comment">${t(e.text).replace(/<span data-code-token="string">|<\/span>/g,"")}</span>`}),r("number",/(?<text>(?<!\$)\b\d+\b)/g),r("keyword",new RegExp(String.raw`(?<text>\b(?:${["if","then","else","elif","fi","case","esac","for","select","while","until","do","done","in","function","time","{","}","!","[[","]]","coproc"].map(i).join("|")})\b)`,"g")),e}}(o=n.Code||(n.Code={}))}(r||(r={})),e.parseUnicodeMarkup=function(e,t){return o(s(e),r.unicodeMarkup(t),"disable sanitizer")},e.parseInlineMarkup=function(e,t){return o(s(e),r.inlineMarkup(t))},e.parseMarkup=function(e,t,n){var i;const a=new Map(null!==(i=null==n?void 0:n.entries())&&void 0!==i?i:[]),c=new Set,l=new String(o(s(e),r.blockMarkup(t,a,c)));return Object.defineProperty(l,"properties",{value:a}),Object.defineProperty(l,"ids",{value:c}),l},e.parseCode=a}(SHML||(SHML={})),function(e){const t=Object.freeze(document.currentScript?Object.fromEntries([...new URLSearchParams(Object.assign(document.createElement("a"),{href:document.currentScript.getAttribute("src")}).search).entries()].map((([e,t])=>[e,"false"!==t&&t]))):{debug:!0});function n(e,...t){return t.reduce(((t,n,r)=>t+n+e[r+1]),e[0])}let r,o,i;function a(e,t){var n,r,o;let i;return null!==(r=null===(n=t.closest)||void 0===n?void 0:n.call(t,e))&&void 0!==r?r:(i=t.getRootNode()).host?a(e,i.host):(null===(o=i.defaultView)||void 0===o?void 0:o.frameElement)?a(e,i.defaultView.frameElement):null}function s(e){return Array.isArray(e)}e.VERSION=Object.freeze({toString:()=>`${e.VERSION.major}.${e.VERSION.minor}.${e.VERSION.patch}${void 0!==e.VERSION.prerelease?`-${e.VERSION.prerelease}`:""}${void 0!==e.VERSION.metadata?`+${e.VERSION.metadata}`:""}`,major:2,minor:2,patch:2}),e.$it=void 0,Object.defineProperty(e,"$it",{enumerable:!0,configurable:!!t.debug,get:()=>r}),e.$$it=void 0,Object.defineProperty(e,"$$it",{enumerable:!0,configurable:!!t.debug,get:()=>o}),e.$xit=void 0,Object.defineProperty(e,"$xit",{enumerable:!0,configurable:!!t.debug,get:()=>i}),e.$=function(e,t=document){var o,i,c;s(e)&&(e=n(e,...[...arguments].slice(1)),t=document);let{deep:u,count:p,cssSelector:d}=e.match(/^(?<deep>%)?(?:\^(?<count>\d*))? ?(?<cssSelector>[\s\S]*)$/).groups;if(void 0!==p){if(NaN===(p=+(p||"1"))||!(t instanceof Element))return null;let e=t;for(let t=0;t<p&&(null==e?void 0:e.parentElement);t++)e=u?a(d||":scope",null==e?void 0:e.parentElement):null!==(c=null===(i=null===(o=null==e?void 0:e.parentElement)||void 0===o?void 0:o.closest)||void 0===i?void 0:i.call(o,d||":scope"))&&void 0!==c?c:null;return r=e}return r=u?l(d,t):t.querySelector(d)};for(const r of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(r.prototype,"$self",{enumerable:!1,configurable:!!t.debug,value:function(t){return s(t)&&(t=n(t,...[...arguments].slice(1))),e.$(t,this)}});function c(e,t=document){var n;const r=[];if(t.childElementCount){const n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);let o;for(;o=n.nextNode();)o instanceof Element&&o.matches(e)&&r.push(o),o instanceof Element&&o.shadowRoot?r.push(...c(e,o.shadowRoot)):o instanceof HTMLIFrameElement&&o.contentWindow&&r.push(...c(e,o.contentWindow.document))}else t instanceof HTMLIFrameElement&&(null===(n=t.contentWindow)||void 0===n?void 0:n.document)?r.push(...c(e,t.contentWindow.document)):t instanceof Element&&t.shadowRoot&&r.push(...c(e,t.shadowRoot));return r}function l(e,t=document){var n;let r;if(t.childElementCount){const n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);let o;for(;o=n.nextNode();){if(o instanceof Element&&o.matches(e))return o;if(o instanceof Element&&o.shadowRoot){if(r=l(e,o.shadowRoot))return r}else if(o instanceof HTMLIFrameElement&&o.contentWindow&&(r=l(e,o.contentWindow.document)))return r}}else if(t instanceof HTMLIFrameElement&&(null===(n=t.contentWindow)||void 0===n?void 0:n.document)){if(r=l(e,t.contentWindow.document))return r}else if(t instanceof Element&&t.shadowRoot&&(r=l(e,t.shadowRoot)))return r;return null}e.$$=function(e,t=document){s(e)&&(e=n(e,...[...arguments].slice(1)),t=document);let{deep:r,cssSelector:i}=e.match(/^(?<deep>%)? ?(?<cssSelector>[\s\S]*)$/).groups;return o=u(void 0!==r?c(i,t):t.querySelectorAll(i))};for(const r of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(r.prototype,"$$self",{enumerable:!1,configurable:!!t.debug,value:function(t){return s(t)&&(t=n(t,...[...arguments].slice(1))),e.$$(t,this)}});e.$x=function(e,t=document){s(e)&&(e=n(e,...[...arguments].slice(1)),t=document);const r=document.evaluate(e,t,null,XPathResult.ANY_TYPE,null);try{switch(r.resultType){case 1:return r.numberValue;case 2:return r.stringValue;case 3:return r.booleanValue;case 4:case 5:{let e,t=[];for(;e=r.iterateNext();)t.push(e);return u(t)}case 6:case 7:return u(Array.apply(null,{length:r.snapshotLength}).map(((e,t)=>r.snapshotItem(t))));case 8:case 9:return r.singleNodeValue;default:return null}}catch(e){return null}};for(const r of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(r.prototype,"$xself",{enumerable:!1,configurable:!!t.debug,value:function(t){return s(t)&&(t=n(t,...[...arguments].slice(1))),e.$x(t,this)}});function u(e){return new Proxy([...e],{set:(e,t,n)=>"symbol"==typeof t?Reflect.set(e,t,n):t.startsWith("$")?Reflect.set(e,t.substring(1),n):e.every((e=>Reflect.set(e,t,n instanceof d?n.value():n))),get(e,t,n){if("symbol"==typeof t){const n=[...e],r=Reflect.get(n,t);return"function"==typeof r?r.bind(n):r}if("$toArray"===t)return function(){return[...e]};if("$any"===t)return e.length>0;if(t.startsWith("$")){const n=Reflect.get([...e],t.substring(1));return"function"==typeof n?function(){const t=n.bind([...e])(...arguments);return Array.isArray(t)?u(t):t}:Array.isArray(n)?u(n):n}return e.length<=0?void 0:e.some((e=>"function"==typeof Reflect.get(e,t)))?function(){return u(e.map((e=>{const n=Reflect.get(e,t);return"function"==typeof n?n.bind(e)(...[...arguments].map((e=>e instanceof d?e.value():e))):n})))}:u(e.map((e=>Reflect.get(e,t))))},deleteProperty:(e,t)=>"symbol"==typeof t?Reflect.deleteProperty(e,t):/^\$\d+/.test(t)?Reflect.deleteProperty(e,t.substring(1)):!t.startsWith("$")&&e.every((e=>Reflect.deleteProperty(e,t))),has:(e,t)=>"symbol"==typeof t?Reflect.has(e,t):/^\$\d+/.test(t)?Reflect.has(e,t.substring(1)):!t.startsWith("$")&&e.every((e=>Reflect.has(e,t)))})}function p(e){const t=()=>[...e.childNodes].filter((e=>{var t,n;return!(e instanceof Text)||""!==e.wholeText.trim()||e.parentElement instanceof HTMLPreElement||(null===(n=null===(t=e.parentElement)||void 0===t?void 0:t.closest)||void 0===n?void 0:n.call(t,"pre"))})),n=["push","pop","shift","unshift","splice","reverse","sort"];return new Proxy([...e.childNodes],{get:(r,o)=>n.includes(o)?function(){const n=t();try{return n[o](...arguments)}finally{e.replaceChildren(...n)}}:r[o],set(n,r,o,i){if(+r>-1){if(o instanceof Node){const n=t();return n[+r]=o,e.replaceChildren(...n),!0}return!1}return Reflect.set(n,r,o,i)}})}for(const e of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(e.prototype,"$children",{enumerable:!1,configurable:!!t.debug,get(){return p(this)},set(e){return this.replaceChildren(...e)}});e.HTMLNode=function(e,t,...n){const r=document.createElement(e);if("string"==typeof t)r.textContent=t;else{t instanceof Map||(t=new Map(Object.entries(null!=t?t:{})));for(const[e,n]of t.entries())if("children"===e&&Array.isArray(n))r.replaceChildren(...r.childNodes,...n);else if("style"===e&&"object"==typeof n)for(const[e,t]of n instanceof Map?n.entries():Object.entries(n))Reflect.set(r.style,e,t);else"classList"===e||"classlist"===e&&Array.isArray(n)?r.classList.add(...n):e in r?Reflect.set(r,e,n):r.setAttribute(e,n);n.length&&r.replaceChildren(...r.childNodes,...n)}return r},e.HtmlNode=e.HTMLNode,e.SVGNode=function(e,t,...n){const r=document.createElementNS("http://www.w3.org/2000/svg",e);"svg"===e&&r.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof Map||(t=new Map(Object.entries(null!=t?t:{})));for(const[e,n]of t.entries())if("children"===e&&Array.isArray(n))r.replaceChildren(...r.childNodes,...n);else if("style"===e&&"object"==typeof n)for(const[e,t]of n instanceof Map?n.entries():Object.entries(n))Reflect.set(r.style,e,t);else"classList"===e||"classlist"===e&&Array.isArray(n)?r.classList.add(...n):e in r&&"function"==typeof n?Reflect.set(r,e,n):r.setAttribute(e,n);return n.length&&r.replaceChildren(...r.childNodes,...n),r},e.SvgNode=e.SVGNode,e.MATHMLNode=function(e,t,...n){throw"MathML node has not been implemented yet."},e.MathMlNode=e.MATHMLNode,e.TextNode=function(e=""){return document.createTextNode(e)},e.CommentNode=function(e=""){return document.createComment(e)},e.$host=void 0,Object.defineProperty(e,"$host",{get(){var e,t;return null!==(t=null===(e=document.currentScript)||void 0===e?void 0:e.parentElement)&&void 0!==t?t:null}}),[ShadowRoot,Element,Document,DocumentFragment].forEach((e=>Object.defineProperty(e.prototype,"$host",{enumerable:!1,configurable:!!t.debug,get(){return this}}))),e.$last=void 0;{let n;const r=new MutationObserver((e=>e.forEach((e=>{const t=[...e.addedNodes].pop();t instanceof HTMLElement&&!(t instanceof HTMLScriptElement)&&(n=t)}))));r.observe(document.documentElement,{childList:!0,subtree:!0}),window.addEventListener("load",(()=>{r.disconnect(),n=null})),Object.defineProperty(e,"$last",{enumerable:!0,configurable:!!t.debug,get:()=>n})}e.$ctx=void 0,Object.defineProperty(e,"$ctx",{get:()=>document.currentScript,set(e){var t,n;null===(n=null===(t=document.currentScript)||void 0===t?void 0:t.replaceWith)||void 0===n||n.call(t,e)}}),[ShadowRoot,Element,Document,DocumentFragment].forEach((e=>Object.defineProperty(e.prototype,"$ctx",{enumerable:!1,configurable:!!t.debug,get(){return this},set(e){this.replaceWith(e)}})));class d{constructor(e){this.value=e}get[Symbol.toStringTag](){return"Box"}}if(e.BoxedNode=class extends d{constructor(e){super((()=>e.cloneNode(!0)))}},Object.defineProperty(EventTarget.prototype,"$on",{value(e,t,n){return this.addEventListener(e,t,n),{detach:()=>this.removeEventListener(e,t,n)}},enumerable:!1,configurable:!!t.debug}),document.currentScript&&"bind"in t){f(Reflect.get(globalThis,(t.bind||"globalThis").toString()))}function f(t){Object.getOwnPropertyNames(e).forEach((function(n){"VERSION"!==n&&Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}e.bind=f}(DomLib||(DomLib={})),function(e){class t{constructor(){this.callbacks=[]}connectCallback(e){this.callbacks.push(e),e(this.get())}disconnectCallback(e){this.callbacks.splice(this.callbacks.indexOf(e),1)}connectWeakCallback(e,t){const n=e.map((e=>new WeakRef(e))),r=this;r.connectCallback((function e(o){const i=n.map((e=>e.deref()));i.some((e=>void 0===e))?r.disconnectCallback(e):t(o,...i)}))}update(){this.callbacks.forEach((e=>{e(this.get())}))}}class n extends t{constructor(e){super(),this.value=e}get(){return this.value}set(e){return this.value=e,this.update(),this.value}consume(e){const t=this;return function(...n){t.set(e.bind(this)(...n))}}format(e){const t=new r(this,e);return this.connectCallback(t.update.bind(t)),t}}e.State=n;class r extends t{constructor(e,t){super(),this.state=e,this.formatter=t}set(e){return this.state.set(e)}get(){return this.formatter(this.state.get())}consume(e){return this.state.consume(e)}}e.createState=function(e){return new n(e)},e.createElement=function(e,n,...r){if("function"==typeof e)return e(n,...r.map((e=>e instanceof HTMLCollection?[...e]:e)).flat());const o=function(){switch(e){case null:return document.createDocumentFragment();case"svg":return document.createElementNS("http://www.w3.org/2000/svg",e);case"math":return document.createElementNS("http://www.w3.org/1998/Math/MathML",e);default:return document.createElement(e)}}();if(o instanceof Element){"svg"===e?o.setAttribute("xmlsn","http://www.w3.org/2000/svg"):"math"===e&&o.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML");const r=Object.getPrototypeOf(o);for(const[e,i]of Object.entries(null!=n?n:{}))if("style"===e&&"object"==typeof i&&e in r)for(const[t,n]of i instanceof Map?i.entries():Object.entries(i))Reflect.set(Reflect.get(o,e),t,n);else"classList"===e||"classlist"===e&&e in r||"class"===e&&Array.isArray(i)?o.classList.add(...i):e in r&&i instanceof t?i.connectWeakCallback([o],((t,n)=>Reflect.set(n,e,t))):e in r?Reflect.set(o,e,i):i instanceof t?i.connectWeakCallback([o],((t,n)=>n.setAttribute(e,t))):o.setAttribute(e,i)}for(let e of r.flat())if(e instanceof HTMLCollection)o.append(...e);else{if(e instanceof t){const t=document.createTextNode("");e.connectWeakCallback([t],((e,t)=>t.textContent=e)),e=t}o.append(e)}return o}}(JSX||(JSX={})),function(){const e=Element.prototype.attachShadow,t=[];let n=[];Element.prototype.attachShadow=function(...r){const o=e.bind(this)(...r);return t.push(this.shadowRoot),this.shadowRoot.adoptedStyleSheets=[...this.shadowRoot.adoptedStyleSheets,...n],o},Object.defineProperty(document,"kitsuneGlobalAdoptedStyleSheets",{get:()=>n,set(e){n=[...e];for(const e of[document,...t])e.adoptedStyleSheets=[...new Set([...e.adoptedStyleSheets,...n])]}}),Object.defineProperty(document,"kitsuneShadowRoots",{get:()=>t}),Object.defineProperty(document,"kitsunedom",{value:!0})}(),function(e){e.define=function(e,{attributes:t=new Map,render:n,connect:r,on:o,stylesheet:i,properties:a=Object.create(null)}={}){var s,c,l;return window.customElements.define(`${e}`,(l=class extends HTMLElement{constructor(){var e;super(),s.set(this,void 0),c.set(this,void 0),__classPrivateFieldSet(this,s,new Map(t.entries()),"f");const r=()=>{var e;__classPrivateFieldGet(this,c,"f").disconnect(),null===(e=null==n?void 0:n.bind(this))||void 0===e||e(),window.requestAnimationFrame((()=>__classPrivateFieldGet(this,c,"f").observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0})))};__classPrivateFieldSet(this,c,new MutationObserver(n?r:function(){}),"f");for(const[e,t]of __classPrivateFieldGet(this,s,"f").entries())Object.defineProperty(this,e,{get(){return __classPrivateFieldGet(this,s,"f").get(e)},set(o){return o||"boolean"!=typeof t?this.setAttribute(e,o):this.removeAttribute(e),n&&window.requestAnimationFrame(r.bind(this)),__classPrivateFieldGet(this,s,"f").set(e,o).get(e)}});for(const[t,n]of null!==(e=null==o?void 0:o.entries())&&void 0!==e?e:[])this.addEventListener(t,(e=>n(e)));if(i){const e="kitsunedom"in document?"kitsuneGlobalAdoptedStyleSheets":"adoptedStyleSheets",t=new CSSStyleSheet;t.replaceSync(i),document[e]=[...document[e],t]}Object.assign(this,a)}attributeChangedCallback(e,n,r){n!==r&&__classPrivateFieldGet(this,s,"f").set(e,"boolean"==typeof t.get(e)?!!r:r)}connectedCallback(){for(const e of __classPrivateFieldGet(this,s,"f").keys())this.hasAttribute(e)&&__classPrivateFieldGet(this,s,"f").set(e,this.getAttribute(e));n&&(__classPrivateFieldGet(this,c,"f").observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),window.requestAnimationFrame((()=>{var e;__classPrivateFieldGet(this,c,"f").disconnect(),null===(e=null==n?void 0:n.bind(this))||void 0===e||e(),window.requestAnimationFrame((()=>__classPrivateFieldGet(this,c,"f").observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0})))}))),r&&window.requestAnimationFrame(r.bind(this))}disconnectedCallback(){n&&__classPrivateFieldGet(this,c,"f").disconnect()}static get observedAttributes(){return[...t.keys()]}},s=new WeakMap,c=new WeakMap,l)),window.customElements.get(e)}}(ElementFactory||(ElementFactory={})),function(e){e.Shadow=function(e,...t){const n=JSX.createElement("span");return n.attachShadow({mode:"open"}),n.shadowRoot.replaceChildren(...t),n}}(Elements||(Elements={})),function(e){let t,n,r,o;!function(t){function n(e){const t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function r(e){return new Promise((function(t){const n=window.atob(e.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r);for(let e=0;e<r;e++)o[e]=n.charCodeAt(e);t(new Blob([o],{type:"image/png"}))}))}var o;function i(e,t){const n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}t.mimes=function(){const e="application/font-woff",t="image/jpeg";return{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:t,jpeg:t,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}(),t.parseExtension=n,t.mimeType=function(e){const r=n(e).toLowerCase();return t.mimes[r]||""},t.isDataUrl=function(e){return-1!==e.search(/^(data:)/)},t.toBlob=r,t.canvasToBlob=function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):r(e)},t.resolveUrl=function(e,t){const n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);const o=n.createElement("a");return n.body.appendChild(o),r.href=t,o.href=e,o.href},t.uid=(o=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+o++}),t.makeImage=function(e){return new Promise((function(t,n){const r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=e}))},t.getAndEncode=function(t){return e.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),new Promise((function(n){const r=new XMLHttpRequest;let o;if(r.onreadystatechange=function(){if(4!==r.readyState)return;if(200!==r.status)return void(o?n(o):i("cannot fetch resource: "+t+", status: "+r.status));const e=new FileReader;e.onloadend=function(){const t=e.result.split(/,/)[1];n(t)},e.readAsDataURL(r.response)},r.ontimeout=function(){o?n(o):i("timeout of 30000ms occured while fetching resource: "+t)},r.responseType="blob",r.timeout=3e4,r.open("GET",t,!0),r.send(),e.impl.options.imagePlaceholder){const t=e.impl.options.imagePlaceholder.split(/,/);t&&t[1]&&(o=t[1])}function i(e){console.error(e),n("")}}))},t.dataAsUrl=function(e,t){return"data:"+t+";base64,"+e},t.escape=function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},t.delay=function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},t.asArray=function(e){const t=[],n=e.length;for(let r=0;r<n;r++)t.push(e[r]);return t},t.escapeXhtml=function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},t.width=function(e){const t=i(e,"border-left-width"),n=i(e,"border-right-width");return e.scrollWidth+t+n},t.height=function(e){const t=i(e,"border-top-width"),n=i(e,"border-bottom-width");return e.scrollHeight+t+n},t.px=i}(t||(t={})),function(e){const n=/url\(['"]?([^'"]+?)['"]?\)/g;function r(e){return-1!==e.search(n)}function o(e){const r=[];let o;for(;null!==(o=n.exec(e));)r.push(o[1]);return r.filter((function(e){return!t.isDataUrl(e)}))}function i(e,n,r,o){return Promise.resolve(n).then((function(e){return r?t.resolveUrl(e,r):e})).then(o||t.getAndEncode).then((function(e){return t.dataAsUrl(e,t.mimeType(n))})).then((function(r){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+t.escape(e)+")(['\"]?\\))","g")}(n),"$1"+r+"$3")}))}e.impl={readUrls:o,inline:i},e.shouldProcess=r,e.inlineAll=function(e,t,n){return r(e)?Promise.resolve(e).then(o).then((function(r){let o=Promise.resolve(e);return r.forEach((function(e){o=o.then((function(r){return i(r,e,t,n)}))})),o})):Promise.resolve(e)}}(n||(n={})),function(e){function r(e){return{inline:function(n){return t.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(n||t.getAndEncode).then((function(n){return t.dataAsUrl(n,t.mimeType(e.src))})).then((function(t){return new Promise((function(n,r){e.onload=()=>n(),e.onerror=r,e.src=t}))}))}}}e.impl={newImage:r},e.inlineAll=function e(o){return o instanceof Element?function(e){const t=e.style.getPropertyValue("background");return t?n.inlineAll(t).then((function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))})).then((function(){return e})):Promise.resolve(e)}(o).then((function(){return o instanceof HTMLImageElement?r(o).inline():Promise.all(t.asArray(o.childNodes).map((function(t){return e(t)})))})):Promise.resolve(o)}}(r||(r={})),function(e){function r(e){return Promise.resolve(t.asArray(e.styleSheets)).then((function(e){const n=[];return e.forEach((function(e){try{t.asArray(e.cssRules||[]).forEach((e=>n.push(e)))}catch(t){console.log("Error while reading CSS rules from "+e.href,""+t)}})),n})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return n.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(e){return e.map(r)}));function r(e){return{resolve:function(){var t;const r=null!==(t=(e.parentStyleSheet||{}).href)&&void 0!==t?t:void 0;return n.inlineAll(e.cssText,r)},src:function(){return e.style.getPropertyValue("src")}}}}e.impl={readAll:r},e.resolveAll=function(){return r(document).then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("\n")}))}}(o||(o={}));const i={imagePlaceholder:void 0,cacheBust:!1};function a(n,r={}){return function(t){void 0===t.imagePlaceholder?e.impl.options.imagePlaceholder=i.imagePlaceholder:e.impl.options.imagePlaceholder=t.imagePlaceholder;void 0===t.cacheBust?e.impl.options.cacheBust=i.cacheBust:e.impl.options.cacheBust=t.cacheBust}(r=r||{}),Promise.resolve(n).then((function(e){return c(e,r.filter,!0)})).then(l).then(u).then((function(e){r.bgcolor&&(e.style.backgroundColor=r.bgcolor);r.width&&(e.style.width=r.width+"px");r.height&&(e.style.height=r.height+"px");r.style&&Object.keys(r.style).forEach((function(t){e.style[t]=r.style[t]}));return e})).then((function(e){return function(e,n,r){return Promise.resolve(e).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(t.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+n+'" height="'+r+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))}(e,r.width||t.width(n),r.height||t.height(n))}))}function s(e,n={}){return a(e,n).then(t.makeImage).then(t.delay(100)).then((function(r){const o=function(e){const r=document.createElement("canvas");if(r.width=n.width||t.width(e),r.height=n.height||t.height(e),n.bgcolor){const e=r.getContext("2d");e.fillStyle=n.bgcolor,e.fillRect(0,0,r.width,r.height)}return r}(e);return o.getContext("2d").drawImage(r,0,0),o}))}function c(e,n,r){return r||!n||n(e)?Promise.resolve(e).then((function(e){return e instanceof HTMLCanvasElement?t.makeImage(e.toDataURL()):Promise.resolve(e.cloneNode(!1))})).then((function(r){return function(e,n,r){const o=e.childNodes;return 0===o.length?Promise.resolve(n):i(n,t.asArray(o),r).then((function(){return n}));function i(e,t,n){let r=Promise.resolve();return t.forEach((function(t){r=r.then((function(){return c(t,n)})).then((function(t){t&&e.appendChild(t)}))})),r}}(e,r,n)})).then((function(n){return function(e,n){return n instanceof Element?Promise.resolve().then(r).then(o).then(i).then(a).then((function(){return n})):n;function r(){function r(e,n){function r(e,n){t.asArray(e).forEach((function(t){n.setProperty(t,e.getPropertyValue(t),e.getPropertyPriority(t))}))}e.cssText?n.cssText=e.cssText:r(e,n)}r(window.getComputedStyle(e),n.style)}function o(){function r(r){const o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(""===i||"none"===i)return;const a=t.uid();n.className=n.className+" "+a;const s=document.createElement("style");function c(e,n,r){const o="."+e+":"+n,i=r.cssText?a(r):s(r);return document.createTextNode(o+"{"+i+"}");function a(e){const t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}function s(e){return t.asArray(e).map(n).join("; ")+";";function n(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}}}s.appendChild(c(a,r,o)),n.appendChild(s)}[":before",":after"].forEach((function(e){r(e)}))}function i(){e instanceof HTMLTextAreaElement&&(n.innerHTML=e.value),e instanceof HTMLInputElement&&n.setAttribute("value",e.value)}function a(){n instanceof SVGElement&&(n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n instanceof SVGRectElement&&["width","height"].forEach((function(e){const t=n.getAttribute(e);t&&n.style.setProperty(e,t)})))}}(e,n)})):Promise.resolve()}function l(e){return o.resolveAll().then((function(t){const n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e}))}function u(e){return r.inlineAll(e).then((function(){return e}))}e.impl={fontFaces:o,images:r,util:t,inliner:n,options:{}},e.toSvg=a,e.toPixelData=function(e,n={}){return s(e,n||{}).then((function(n){return n.getContext("2d").getImageData(0,0,t.width(e),t.height(e)).data}))},e.toPng=function(e,t={}){return s(e,t||{}).then((function(e){return e.toDataURL()}))},e.toJpeg=function(e,t={}){return s(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},e.toBlob=function(e,n={}){return s(e,n||{}).then(t.canvasToBlob)}}(HTMLRasterizer||(HTMLRasterizer={})),DomLib.bind(globalThis),Object.defineProperty(globalThis,"kitsunecore",{value:!0});
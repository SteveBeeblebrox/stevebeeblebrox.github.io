var ElementFactory,__classPrivateFieldSet=this&&this.__classPrivateFieldSet||function(e,t,s,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,s):r?r.value=s:t.set(e,s),s},__classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(e,t,s,i){if("a"===s&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?i:"a"===s?i.call(e):i?i.value:t.get(e)};!function(e){e.define=function(e,{parentTagName:t,attributes:s=Object.create(null),cssVars:i=Object.create(null),onRender:r,onConnect:a,eventListeners:n=Object.create(null),stylesheet:o,extraProperties:c=Object.create(null)}={}){var l,d,u;const h=new Map(Object.entries(s)),f=t?Object.getPrototypeOf(document.createElement(t)).constructor:HTMLElement;if(o){const e="kitsunedom"in document?"kitsuneGlobalAdoptedStyleSheets":"adoptedStyleSheets",t=new CSSStyleSheet;t.replaceSync(o),document[e]=[...document[e],t]}function b(e){return e.replace(/^data-/,"").replace(/-./g,(e=>e.substring(1).toUpperCase()))}return window.customElements.define(`${e}`,(u=class extends f{constructor(){super(),l.set(this,void 0),d.set(this,void 0),__classPrivateFieldSet(this,l,new Map(h.entries()),"f");const e=()=>{var e;__classPrivateFieldGet(this,d,"f").disconnect(),null===(e=null==r?void 0:r.bind(this))||void 0===e||e(),window.requestAnimationFrame((()=>__classPrivateFieldGet(this,d,"f").observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0})))};__classPrivateFieldSet(this,d,new MutationObserver(r?e:function(){}),"f");for(const[t,s]of __classPrivateFieldGet(this,l,"f").entries())Object.defineProperty(this,b(t),{get(){return __classPrivateFieldGet(this,l,"f").get(t)},set(i){return null!==i&&!1!==i||"boolean"!=typeof s?"boolean"==typeof s?(this.setAttribute(t,""),i=!0):this.setAttribute(t,i):(this.removeAttribute(t),i=!1),r&&window.requestAnimationFrame(e.bind(this)),__classPrivateFieldGet(this,l,"f").set(t,i).get(t)}});for(const[e,t]of Object.entries(i))this.style.setProperty("--"+e,t),Object.defineProperty(this,b(e),{get(){return"number"==typeof t?+this.style.getPropertyValue("--"+e):this.style.getPropertyValue("--"+e)},set(s){return this.style.setProperty("--"+e,s),"number"==typeof t?+this.style.getPropertyValue("--"+e):this.style.getPropertyValue("--"+e)}});for(const[e,t]of Object.entries(n))this.addEventListener(e,(e=>t(e)));Object.defineProperties(this,Object.getOwnPropertyDescriptors(c))}attributeChangedCallback(e,t,i){t!==i&&__classPrivateFieldGet(this,l,"f").set(e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),"boolean"==typeof new Map(Object.entries(s)).get(e)?null!==i:i)}connectedCallback(){for(const e of __classPrivateFieldGet(this,l,"f").keys())this.hasAttribute(e)&&__classPrivateFieldGet(this,l,"f").set(e,this.getAttribute(e));r&&(__classPrivateFieldGet(this,d,"f").observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),window.requestAnimationFrame((()=>{var e;__classPrivateFieldGet(this,d,"f").disconnect(),null===(e=null==r?void 0:r.bind(this))||void 0===e||e(),window.requestAnimationFrame((()=>__classPrivateFieldGet(this,d,"f").observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0})))}))),a&&window.requestAnimationFrame(a.bind(this))}disconnectedCallback(){r&&__classPrivateFieldGet(this,d,"f").disconnect()}static get observedAttributes(){return[...h.keys()]}},l=new WeakMap,d=new WeakMap,u),t?{extends:t}:{}),window.customElements.get(e)}}(ElementFactory||(ElementFactory={}));
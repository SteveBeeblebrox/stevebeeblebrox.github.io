var DomLib;!function(e){const t=Object.freeze(document.currentScript?Object.fromEntries([...new URLSearchParams(Object.assign(document.createElement("a"),{href:document.currentScript.getAttribute("src")}).search).entries()].map((([e,t])=>[e,"false"!==t&&t]))):{debug:!0});function n(e,...t){return t.reduce(((t,n,o)=>t+n+e[o+1]),e[0])}let o,r,c;function l(e,t){var n,o,r;let c;return null!==(o=null===(n=t.closest)||void 0===n?void 0:n.call(t,e))&&void 0!==o?o:(c=t.getRootNode()).host?l(e,c.host):(null===(r=c.defaultView)||void 0===r?void 0:r.frameElement)?l(e,c.defaultView.frameElement):null}function i(e){return Array.isArray(e)}e.VERSION=Object.freeze({toString:()=>`${e.VERSION.major}.${e.VERSION.minor}.${e.VERSION.patch}${void 0!==e.VERSION.prerelease?`-${e.VERSION.prerelease}`:""}${void 0!==e.VERSION.metadata?`+${e.VERSION.metadata}`:""}`,major:2,minor:2,patch:2}),e.$it=void 0,Object.defineProperty(e,"$it",{enumerable:!0,configurable:!!t.debug,get:()=>o}),e.$$it=void 0,Object.defineProperty(e,"$$it",{enumerable:!0,configurable:!!t.debug,get:()=>r}),e.$xit=void 0,Object.defineProperty(e,"$xit",{enumerable:!0,configurable:!!t.debug,get:()=>c}),e.$=function(e,t=document){var r,c,s;i(e)&&(e=n(e,...[...arguments].slice(1)),t=document);let{deep:a,count:d,cssSelector:f}=e.match(/^(?<deep>%)?(?:\^(?<count>\d*))? ?(?<cssSelector>[\s\S]*)$/).groups;if(void 0!==d){if(NaN===(d=+(d||"1"))||!(t instanceof Element))return null;let e=t;for(let t=0;t<d&&(null==e?void 0:e.parentElement);t++)e=a?l(f||":scope",null==e?void 0:e.parentElement):null!==(s=null===(c=null===(r=null==e?void 0:e.parentElement)||void 0===r?void 0:r.closest)||void 0===c?void 0:c.call(r,f||":scope"))&&void 0!==s?s:null;return o=e}return o=a?u(f,t):t.querySelector(f)};for(const o of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(o.prototype,"$self",{enumerable:!0,configurable:!!t.debug,value:function(t){return i(t)&&(t=n(t,...[...arguments].slice(1))),e.$(t,this)}});function s(e,t=document){var n;const o=[];if(t.childElementCount){const n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);let r;for(;r=n.nextNode();)r instanceof Element&&r.matches(e)&&o.push(r),r instanceof Element&&r.shadowRoot?o.push(...s(e,r.shadowRoot)):r instanceof HTMLIFrameElement&&r.contentWindow&&o.push(...s(e,r.contentWindow.document))}else t instanceof HTMLIFrameElement&&(null===(n=t.contentWindow)||void 0===n?void 0:n.document)?o.push(...s(e,t.contentWindow.document)):t instanceof Element&&t.shadowRoot&&o.push(...s(e,t.shadowRoot));return o}function u(e,t=document){var n;let o;if(t.childElementCount){const n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);let r;for(;r=n.nextNode();){if(r instanceof Element&&r.matches(e))return r;if(r instanceof Element&&r.shadowRoot){if(o=u(e,r.shadowRoot))return o}else if(r instanceof HTMLIFrameElement&&r.contentWindow&&(o=u(e,r.contentWindow.document)))return o}}else if(t instanceof HTMLIFrameElement&&(null===(n=t.contentWindow)||void 0===n?void 0:n.document)){if(o=u(e,t.contentWindow.document))return o}else if(t instanceof Element&&t.shadowRoot&&(o=u(e,t.shadowRoot)))return o;return null}e.$$=function(e,t=document){i(e)&&(e=n(e,...[...arguments].slice(1)),t=document);let{deep:o,cssSelector:c}=e.match(/^(?<deep>%)? ?(?<cssSelector>[\s\S]*)$/).groups;return r=a(void 0!==o?s(c,t):t.querySelectorAll(c))};for(const o of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(o.prototype,"$$self",{enumerable:!0,configurable:!!t.debug,value:function(t){return i(t)&&(t=n(t,...[...arguments].slice(1))),e.$$(t,this)}});e.$x=function(e,t=document){i(e)&&(e=n(e,...[...arguments].slice(1)),t=document);const o=document.evaluate(e,t,null,XPathResult.ANY_TYPE,null);try{switch(o.resultType){case 1:return o.numberValue;case 2:return o.stringValue;case 3:return o.booleanValue;case 4:case 5:{let e,t=[];for(;e=o.iterateNext();)t.push(e);return a(t)}case 6:case 7:return a(Array.apply(null,{length:o.snapshotLength}).map(((e,t)=>o.snapshotItem(t))));case 8:case 9:return o.singleNodeValue;default:return null}}catch(e){return null}};for(const o of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(o.prototype,"$xself",{enumerable:!0,configurable:!!t.debug,value:function(t){return i(t)&&(t=n(t,...[...arguments].slice(1))),e.$x(t,this)}});function a(e){return new Proxy([...e],{set:(e,t,n)=>"symbol"==typeof t?Reflect.set(e,t,n):t.startsWith("$")?Reflect.set(e,t.substring(1),n):e.every((e=>Reflect.set(e,t,n instanceof f?n.value():n))),get(e,t,n){if("symbol"==typeof t){const n=[...e],o=Reflect.get(n,t);return"function"==typeof o?o.bind(n):o}if("$toArray"===t)return function(){return[...e]};if("$any"===t)return e.length>0;if(t.startsWith("$")){const n=Reflect.get([...e],t.substring(1));return"function"==typeof n?function(){const t=n.bind([...e])(...arguments);return Array.isArray(t)?a(t):t}:Array.isArray(n)?a(n):n}return e.length<=0?void 0:e.some((e=>"function"==typeof Reflect.get(e,t)))?function(){return a(e.map((e=>{const n=Reflect.get(e,t);return"function"==typeof n?n.bind(e)(...[...arguments].map((e=>e instanceof f?e.value():e))):n})))}:a(e.map((e=>Reflect.get(e,t))))},deleteProperty:(e,t)=>"symbol"==typeof t?Reflect.deleteProperty(e,t):/^\$\d+/.test(t)?Reflect.deleteProperty(e,t.substring(1)):!t.startsWith("$")&&e.every((e=>Reflect.deleteProperty(e,t))),has:(e,t)=>"symbol"==typeof t?Reflect.has(e,t):/^\$\d+/.test(t)?Reflect.has(e,t.substring(1)):!t.startsWith("$")&&e.every((e=>Reflect.has(e,t)))})}function d(e){const t=()=>[...e.childNodes].filter((e=>{var t,n;return!(e instanceof Text)||""!==e.wholeText.trim()||e.parentElement instanceof HTMLPreElement||(null===(n=null===(t=e.parentElement)||void 0===t?void 0:t.closest)||void 0===n?void 0:n.call(t,"pre"))})),n=["push","pop","shift","unshift","splice","reverse","sort"];return new Proxy([...e.childNodes],{get:(o,r)=>n.includes(r)?function(){const n=t();try{return n[r](...arguments)}finally{e.replaceChildren(...n)}}:o[r],set(n,o,r,c){if(+o>-1){if(r instanceof Node){const n=t();return n[+o]=r,e.replaceChildren(...n),!0}return!1}return Reflect.set(n,o,r,c)}})}for(const e of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(e.prototype,"$children",{enumerable:!0,configurable:!!t.debug,get(){return d(this)},set(e){return this.replaceChildren(...e)}});e.HTMLNode=function(e,t,...n){const o=document.createElement(e);if("string"==typeof t)o.textContent=t;else{t instanceof Map||(t=new Map(Object.entries(null!=t?t:{})));for(const[e,n]of t.entries())if("children"===e&&Array.isArray(n))o.replaceChildren(...o.childNodes,...n);else if("style"===e&&"object"==typeof n)for(const[e,t]of n instanceof Map?n.entries():Object.entries(n))Reflect.set(o.style,e,t);else"classList"===e||"classlist"===e&&Array.isArray(n)?o.classList.add(...n):e in o?Reflect.set(o,e,n):o.setAttribute(e,n);n.length&&o.replaceChildren(...o.childNodes,...n)}return o},e.HtmlNode=e.HTMLNode,e.SVGNode=function(e,t,...n){const o=document.createElementNS("http://www.w3.org/2000/svg",e);"svg"===e&&o.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof Map||(t=new Map(Object.entries(null!=t?t:{})));for(const[e,n]of t.entries())if("children"===e&&Array.isArray(n))o.replaceChildren(...o.childNodes,...n);else if("style"===e&&"object"==typeof n)for(const[e,t]of n instanceof Map?n.entries():Object.entries(n))Reflect.set(o.style,e,t);else"classList"===e||"classlist"===e&&Array.isArray(n)?o.classList.add(...n):e in o&&"function"==typeof n?Reflect.set(o,e,n):o.setAttribute(e,n);return n.length&&o.replaceChildren(...o.childNodes,...n),o},e.SvgNode=e.SVGNode,e.MATHMLNode=function(e,t,...n){throw"MathML node has not been implemented yet."},e.MathMlNode=e.MATHMLNode,e.TextNode=function(e=""){return document.createTextNode(e)},e.CommentNode=function(e=""){return document.createComment(e)},e.$host=void 0,Object.defineProperty(e,"$host",{get(){var e,t;return null!==(t=null===(e=document.currentScript)||void 0===e?void 0:e.parentElement)&&void 0!==t?t:null}}),[ShadowRoot,Element,Document,DocumentFragment].forEach((e=>Object.defineProperty(e.prototype,"$host",{enumerable:!0,configurable:!!t.debug,get(){return this}}))),e.$last=void 0;{let n;const o=new MutationObserver((e=>e.forEach((e=>{const t=[...e.addedNodes].pop();t instanceof HTMLElement&&!(t instanceof HTMLScriptElement)&&(n=t)}))));o.observe(document.documentElement,{childList:!0,subtree:!0}),window.addEventListener("load",(()=>{o.disconnect(),n=null})),Object.defineProperty(e,"$last",{enumerable:!0,configurable:!!t.debug,get:()=>n})}e.$ctx=void 0,Object.defineProperty(e,"$ctx",{get:()=>document.currentScript,set(e){var t,n;null===(n=null===(t=document.currentScript)||void 0===t?void 0:t.replaceWith)||void 0===n||n.call(t,e)}}),[ShadowRoot,Element,Document,DocumentFragment].forEach((e=>Object.defineProperty(e.prototype,"$ctx",{enumerable:!0,configurable:!!t.debug,get(){return this},set(e){this.replaceWith(e)}})));class f{constructor(e){this.value=e}get[Symbol.toStringTag](){return"Box"}}if(e.BoxedNode=class extends f{constructor(e){super((()=>e.cloneNode(!0)))}},Object.defineProperty(EventTarget.prototype,"$on",{value(e,t,n){return this.addEventListener(e,t,n),{detach:()=>this.removeEventListener(e,t,n)}},enumerable:!0,configurable:!!t.debug}),document.currentScript&&"bind"in t){const n=Reflect.get(globalThis,(t.bind||"globalThis").toString());Object.getOwnPropertyNames(e).forEach((function(t){"VERSION"!==t&&Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}}(DomLib||(DomLib={}));
//See /assets/ts/domlib.ts for license info.
var DomLib;!function(e){const t=Object.freeze(document.currentScript?Object.fromEntries([...new URLSearchParams(Object.assign(document.createElement("a"),{href:document.currentScript.getAttribute("src")}).search).entries()].map(([e,t])=>[e,"false"!==t&&t])):{debug:!0});function n(e,...t){return t.reduce((t,n,r)=>t+n+e[r+1],e[0])}e.VERSION=Object.freeze({toString:()=>`${e.VERSION.major}.${e.VERSION.minor}.${e.VERSION.patch}${void 0!==e.VERSION.prerelease?`-${e.VERSION.prerelease}`:""}${void 0!==e.VERSION.metadata?`+${e.VERSION.metadata}`:""}`,major:2,minor:0,patch:0});let r=void 0;e.$it=void 0,Object.defineProperty(e,"$it",{enumerable:!0,configurable:!!t.debug,get:()=>r});let o=void 0;e.$$it=void 0,Object.defineProperty(e,"$$it",{enumerable:!0,configurable:!!t.debug,get:()=>o});function c(e){return Array.isArray(e)}e.$xit=void 0,Object.defineProperty(e,"$xit",{enumerable:!0,configurable:!!t.debug,get(){}}),e.$=function(){return function(e,t=document){return c(e)&&(e=n(e,...[...arguments].slice(1)),t=document),r=t.querySelector(e)}}();for(const r of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(r.prototype,"$self",{enumerable:!0,configurable:!!t.debug,value:function(t){return c(t)&&(t=n(t,...[...arguments].slice(1))),e.$(t,this)}});e.$$=function(){return function(e,t=document){return c(e)&&(e=n(e,...[...arguments].slice(1)),t=document),o=i(t.querySelectorAll(e))}}();for(const r of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(r.prototype,"$$self",{enumerable:!0,configurable:!!t.debug,value:function(t){return c(t)&&(t=n(t,...[...arguments].slice(1))),e.$$(t,this)}});e.$x=function(){return function(e,t=document){c(e)&&(e=n(e,...[...arguments].slice(1)),t=document);const r=document.evaluate(e,t,null,XPathResult.ANY_TYPE,null);try{switch(r.resultType){case 1:return r.numberValue;case 2:return r.stringValue;case 3:return r.booleanValue;case 4:case 5:{let e,t=[];for(;e=r.iterateNext();)t.push(e);return i(t)}case 6:case 7:return i(Array.apply(null,{length:r.snapshotLength}).map((e,t)=>r.snapshotItem(t)));case 8:case 9:return r.singleNodeValue;default:return null}}catch(e){return null}}}();for(const r of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(r.prototype,"$xself",{enumerable:!0,configurable:!!t.debug,value:function(t){return c(t)&&(t=n(t,...[...arguments].slice(1))),e.$x(t,this)}});function i(e){return new Proxy([...e],{set:(e,t,n)=>"symbol"==typeof t?Reflect.set(e,t,n):t.startsWith("$")?Reflect.set(e,t.substring(1),n):e.every(e=>Reflect.set(e,t,n)),get(e,t,n){if("symbol"==typeof t)return Reflect.get([...e],t);if("$toArray"===t)return function(){return[...e]};if("$any"===t)return e.length>0;if(t.startsWith("$")){const n=Reflect.get([...e],t.substring(1));return"function"==typeof n?function(){const t=n.bind([...e])(...arguments);return Array.isArray(t)?i(t):t}:Array.isArray(n)?i(n):n}return e.some(e=>"function"==typeof Reflect.get(e,t))?function(){return i(e.map(function(e){const n=Reflect.get(e,t);return"function"==typeof n?n.bind(e)(...arguments):n}))}:i(e.map(e=>Reflect.get(e,t)))},deleteProperty:(e,t)=>"symbol"==typeof t?Reflect.deleteProperty(e,t):/^\$\d+/.test(t)?Reflect.deleteProperty(e,t.substring(1)):!t.startsWith("$")&&e.every(e=>Reflect.deleteProperty(e,t))})}function s(e){const t=()=>[...e.childNodes].filter(e=>{var t,n;return!(e instanceof Text)||""!==e.wholeText.trim()||e.parentElement instanceof HTMLPreElement||(null===(n=null===(t=e.parentElement)||void 0===t?void 0:t.closest)||void 0===n?void 0:n.call(t,"pre"))}),n=["push","pop","shift","unshift","splice","reverse","sort"];return new Proxy([...e.childNodes],{get:(r,o)=>n.includes(o)?function(){const n=t();try{return n[o](...arguments)}finally{e.replaceChildren(...n)}}:r[o],set(n,r,o,c){if(+r>-1){if(o instanceof Node){const n=t();return n[+r]=o,e.replaceChildren(...n),!0}return!1}return Reflect.set(n,r,o,c)}})}for(const e of[ShadowRoot,Element,Document,DocumentFragment])Object.defineProperty(e.prototype,"$children",{enumerable:!0,configurable:!!t.debug,get(){return s(this)},set(e){return this.replaceChildren(...e)}});e.HTMLNode=function(e,t,...n){const r=document.createElement(e);if("string"==typeof t)r.textContent=t;else{t instanceof Map||(t=new Map(Object.entries(null!=t?t:{})));for(const[e,n]of t.entries())if("children"===e&&Array.isArray(n))r.replaceChildren(...r.childNodes,...n);else if("style"===e&&"object"==typeof n)for(const[e,t]of n instanceof Map?n.entries():Object.entries(n))Reflect.set(r.style,e,t);else"classList"===e||"classlist"===e&&Array.isArray(n)?r.classList.add(...n):e in r?Reflect.set(r,e,n):r.setAttribute(e,n);n.length&&r.replaceChildren(...r.childNodes,...n)}return r},e.HtmlNode=e.HTMLNode,e.SVGNode=function(e,t,...n){const r=document.createElementNS("http://www.w3.org/2000/svg",e);"svg"===e&&r.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof Map||(t=new Map(Object.entries(null!=t?t:{})));for(const[e,n]of t.entries())if("children"===e&&Array.isArray(n))r.replaceChildren(...r.childNodes,...n);else if("style"===e&&"object"==typeof n)for(const[e,t]of n instanceof Map?n.entries():Object.entries(n))Reflect.set(r.style,e,t);else"classList"===e||"classlist"===e&&Array.isArray(n)?r.classList.add(...n):e in r&&"function"==typeof n?Reflect.set(r,e,n):r.setAttribute(e,n);return n.length&&r.replaceChildren(...r.childNodes,...n),r},e.SvgNode=e.SVGNode,e.MATHMLNode=function(e,t,...n){throw"MathML node has not been implemented yet."},e.MathMlNode=e.MATHMLNode,e.TextNode=function(e=""){return document.createTextNode(e)},e.CommentNode=function(e=""){return document.createComment(e)},e.$host=void 0,Object.defineProperty(e,"$host",{get(){var e;return null===(e=document.currentScript)||void 0===e?void 0:e.parentElement}}),[ShadowRoot,Element,Document,DocumentFragment].forEach(e=>Object.defineProperty(e.prototype,"$host",{enumerable:!0,configurable:!!t.debug,get(){return this}})),e.$last=void 0;{let n=void 0;const r=new MutationObserver(e=>e.forEach(e=>{const t=[...e.addedNodes].pop();t instanceof HTMLElement&&!(t instanceof HTMLScriptElement)&&(n=t)}));r.observe(document.documentElement,{childList:!0,subtree:!0}),window.addEventListener("load",()=>{r.disconnect(),n=void 0}),Object.defineProperty(e,"$last",{enumerable:!0,configurable:!!t.debug,get:()=>n})}if(document.currentScript&&"bind"in t){const n=Reflect.get(globalThis,(t.bind||"globalThis").toString());Object.getOwnPropertyNames(e).forEach(function(t){"VERSION"!==t&&Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}}(DomLib||(DomLib={}));
!function(){const t=Element.prototype.attachShadow,e=[];let o=[];Element.prototype.attachShadow=function(...d){const n=t.bind(this)(...d);return e.push(this.shadowRoot),this.shadowRoot.adoptedStyleSheets=[...this.shadowRoot.adoptedStyleSheets,...o],n},Object.defineProperty(document,"kitsuneGlobalAdoptedStyleSheets",{get:()=>o,set(t){o=[...t];for(const t of[document,...e])t.adoptedStyleSheets=[...new Set([...t.adoptedStyleSheets,...o])]}}),Object.defineProperty(document,"kitsuneShadowRoots",{get:()=>e}),Object.defineProperty(document,"kitsunedom",{value:!0})}();